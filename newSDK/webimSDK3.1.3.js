var parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"KLYY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var E=function(){return{WEBIM_CONNCTION_USER_NOT_ASSIGN_ERROR:0,WEBIM_CONNCTION_OPEN_ERROR:1,WEBIM_CONNCTION_AUTH_ERROR:2,WEBIM_CONNCTION_OPEN_USERGRID_ERROR:3,WEBIM_CONNCTION_ATTACH_ERROR:4,WEBIM_CONNCTION_ATTACH_USERGRID_ERROR:5,WEBIM_CONNCTION_REOPEN_ERROR:6,WEBIM_CONNCTION_SERVER_CLOSE_ERROR:7,WEBIM_CONNCTION_SERVER_ERROR:8,WEBIM_CONNCTION_IQ_ERROR:9,WEBIM_CONNCTION_USER_REMOVED:207,WEBIM_CONNCTION_USER_LOGIN_ANOTHER_DEVICE:206,WEBIM_CONNCTION_USER_KICKED_BY_CHANGE_PASSWORD:216,WEBIM_CONNCTION_USER_KICKED_BY_OTHER_DEVICE:217,WEBIM_CONNCTION_PING_ERROR:10,WEBIM_CONNCTION_NOTIFYVERSION_ERROR:11,WEBIM_CONNCTION_GETROSTER_ERROR:12,WEBIM_CONNCTION_CROSSDOMAIN_ERROR:13,WEBIM_CONNCTION_LISTENING_OUTOF_MAXRETRIES:14,WEBIM_CONNCTION_RECEIVEMSG_CONTENTERROR:15,WEBIM_CONNCTION_DISCONNECTED:16,WEBIM_CONNCTION_AJAX_ERROR:17,WEBIM_CONNCTION_JOINROOM_ERROR:18,WEBIM_CONNCTION_GETROOM_ERROR:19,WEBIM_CONNCTION_GETROOMINFO_ERROR:20,WEBIM_CONNCTION_GETROOMMEMBER_ERROR:21,WEBIM_CONNCTION_GETROOMOCCUPANTS_ERROR:22,WEBIM_CONNCTION_LOAD_CHATROOM_ERROR:23,WEBIM_CONNCTION_NOT_SUPPORT_CHATROOM_ERROR:24,WEBIM_CONNCTION_JOINCHATROOM_ERROR:25,WEBIM_CONNCTION_QUITCHATROOM_ERROR:26,WEBIM_CONNCTION_APPKEY_NOT_ASSIGN_ERROR:27,WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR:28,WEBIM_CONNCTION_SESSIONID_NOT_ASSIGN_ERROR:29,WEBIM_CONNCTION_RID_NOT_ASSIGN_ERROR:30,WEBIM_CONNCTION_CALLBACK_INNER_ERROR:31,WEBIM_CONNCTION_CLIENT_OFFLINE:32,WEBIM_CONNCTION_CLIENT_LOGOUT:33,WEBIM_CONNCTION_CLIENT_TOO_MUCH_ERROR:34,WEBIM_CONNECTION_ACCEPT_INVITATION_FROM_GROUP:35,WEBIM_CONNECTION_DECLINE_INVITATION_FROM_GROUP:36,WEBIM_CONNECTION_ACCEPT_JOIN_GROUP:37,WEBIM_CONNECTION_DECLINE_JOIN_GROUP:38,WEBIM_CONNECTION_CLOSED:39,WEBIM_UPLOADFILE_BROWSER_ERROR:100,WEBIM_UPLOADFILE_ERROR:101,WEBIM_UPLOADFILE_NO_LOGIN:102,WEBIM_UPLOADFILE_NO_FILE:103,WEBIM_DOWNLOADFILE_ERROR:200,WEBIM_DOWNLOADFILE_NO_LOGIN:201,WEBIM_DOWNLOADFILE_BROWSER_ERROR:202,WEBIM_MESSAGE_REC_TEXT:300,WEBIM_MESSAGE_REC_TEXT_ERROR:301,WEBIM_MESSAGE_REC_EMOTION:302,WEBIM_MESSAGE_REC_PHOTO:303,WEBIM_MESSAGE_REC_AUDIO:304,WEBIM_MESSAGE_REC_AUDIO_FILE:305,WEBIM_MESSAGE_REC_VEDIO:306,WEBIM_MESSAGE_REC_VEDIO_FILE:307,WEBIM_MESSAGE_REC_FILE:308,WEBIM_MESSAGE_SED_TEXT:309,WEBIM_MESSAGE_SED_EMOTION:310,WEBIM_MESSAGE_SED_PHOTO:311,WEBIM_MESSAGE_SED_AUDIO:312,WEBIM_MESSAGE_SED_AUDIO_FILE:313,WEBIM_MESSAGE_SED_VEDIO:314,WEBIM_MESSAGE_SED_VEDIO_FILE:315,WEBIM_MESSAGE_SED_FILE:316,WEBIM_MESSAGE_SED_ERROR:317,STATUS_INIT:400,STATUS_DOLOGIN_USERGRID:401,STATUS_DOLOGIN_IM:402,STATUS_OPENED:403,STATUS_CLOSING:404,STATUS_CLOSED:405,STATUS_ERROR:406,GROUP_NOT_EXIST:605,GROUP_NOT_JOINED:602,MESSAGE_RECALL_TIME_LIMIT:504,SERVICE_NOT_ENABLED:505,SERVICE_NOT_ALLOW_MESSAGING:506,SERVER_UNKNOWN_ERROR:503,MESSAGE_INCLUDE_ILLEGAL_CONTENT:501,PERMISSION_DENIED:603,WEBIM_LOAD_MSG_ERROR:604}},_=E;exports.default=_;
},{}],"KTph":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function t(e,o){return!this instanceof t?new t(e):(this._msg={},"function"==typeof t[e]&&(t[e].prototype.setGroup=this.setGroup,this._msg=new t[e](o)),this._msg)};t.prototype.setGroup=function(t){this.body.group=t},t.prototype._utils={},t.read=function(t){this.id=t,this.type="read"},t.read.prototype.set=function(t){this.body={id:this.id,type:this.type,ackId:t.id,to:t.to,msgConfig:t.msgConfig,ackContent:t.ackContent},!t.msgConfig&&delete this.body.msgConfig,!t.ackContent&&delete this.body.ackContent},t.delivery=function(t){this.id=t,this.type="delivery"},t.delivery.prototype.set=function(t){this.body={id:this.id,type:this.type,ackId:t.ackId,to:t.to}},t.txt=function(t){this.id=t,this.type="txt",this.body={}},t.txt.prototype.set=function(t){this.value=t.msg,this.body={id:this.id,to:t.to,from:t.from,msg:this.value,type:this.type,roomType:t.roomType,ext:t.ext||{},success:t.success,fail:t.fail,msgConfig:t.msgConfig},!t.msgConfig&&delete this.body.msgConfig,!t.roomType&&delete this.body.roomType},t.cmd=function(t){this.id=t,this.type="cmd",this.body={}},t.cmd.prototype.set=function(t){this.value="",this.body={id:this.id,to:t.to,from:t.from,action:t.action,msg:this.value,type:this.type,roomType:t.roomType,ext:t.ext||{},success:t.success},!t.roomType&&delete this.body.roomType},t.custom=function(t){this.id=t,this.type="custom",this.body={}},t.custom.prototype.set=function(t){this.body={id:this.id,to:t.to,from:t.from,params:t.params,customEvent:t.customEvent,customExts:t.customExts,type:this.type,roomType:t.roomType,ext:t.ext||{},success:t.success},!t.roomType&&delete this.body.roomType},t.location=function(t){this.id=t,this.type="loc",this.body={}},t.location.prototype.set=function(t){this.body={id:this.id,to:t.to,type:this.type,roomType:t.roomType,addr:t.addr,lat:t.lat,lng:t.lng,ext:t.ext||{}}},t.img=function(t){this.id=t,this.type="img",this.body={}},t.img.prototype.set=function(e){e.file=e.file||t.prototype._utils.getFileUrl(e.fileInputId),this.value=e.file,this.body={id:this.id,file:this.value,apiUrl:e.apiUrl,to:e.to,from:e.from,type:this.type,ext:e.ext||{},roomType:e.roomType,onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete,success:e.success,fail:e.fail,flashUpload:e.flashUpload,width:e.width,height:e.height,body:e.body,uploadError:e.uploadError,uploadComplete:e.uploadComplete},!e.roomType&&delete this.body.roomType},t.audio=function(t){this.id=t,this.type="audio",this.body={}},t.audio.prototype.set=function(e){e.file=e.file||t.prototype._utils.getFileUrl(e.fileInputId),this.value=e.file,this.filename=e.filename||this.value.filename,this.body={id:this.id,file:this.value,filename:this.filename,apiUrl:e.apiUrl,to:e.to,from:e.from,type:this.type,ext:e.ext||{},length:e.length||0,roomType:e.roomType,file_length:e.file_length,onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete,success:e.success,fail:e.fail,flashUpload:e.flashUpload,body:e.body},!e.roomType&&delete this.body.roomType},t.file=function(t){this.id=t,this.type="file",this.body={}},t.file.prototype.set=function(e){e.file=e.file||t.prototype._utils.getFileUrl(e.fileInputId),this.value=e.file,this.filename=e.filename||this.value.filename,this.body={id:this.id,file:this.value,filename:this.filename,apiUrl:e.apiUrl,to:e.to,from:e.from,type:this.type,ext:e.ext||{},roomType:e.roomType,onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete,success:e.success,fail:e.fail,flashUpload:e.flashUpload,body:e.body},!e.roomType&&delete this.body.roomType},t.video=function(t){this.id=t,this.type="video",this.body={}},t.video.prototype.set=function(e){e.file=e.file||t.prototype._utils.getFileUrl(e.fileInputId),this.value=e.file,this.filename=e.filename||this.value.filename,this.body={id:this.id,file:this.value,filename:this.filename,apiUrl:e.apiUrl,to:e.to,from:e.from,type:this.type,ext:e.ext||{},length:e.length||0,roomType:e.roomType,file_length:e.file_length,onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete,success:e.success,fail:e.fail,flashUpload:e.flashUpload,body:e.body},!e.roomType&&delete this.body.roomType};var e={message:t},o=t;exports.default=o;
},{}],"RCHR":[function(require,module,exports) {
"use strict";function t(t){this.array=void 0===t?[]:new Array(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,t.prototype={length:function(){return this.array.length},at:function(t){return this.array[t]},set:function(t,r){this.array[t]=r},push:function(t){return this.array.push(t)},slice:function(t,r){return this.array=this.array.slice(t,r)},concat:function(t){this.array=this.array.concat(t)},remove:function(t,r){r=void 0===r?1:r,this.array.splice(t,r)},join:function(t){return this.array.join(t)},clear:function(){this.array.length=0}};var r=function(){this._array_h=new t};r.prototype={_index:0,push:function(t){this._array_h.push(t)},pop:function(){var t=null;return this._array_h.length()&&(t=this._array_h.at(this._index),2*++this._index>=this._array_h.length()&&(this._array_h.slice(this._index),this._index=0)),t},head:function(){var t=null,r=this._array_h.length();return r&&(t=this._array_h.at(r-1)),t},tail:function(){var t=null;return this._array_h.length()&&(t=this._array_h.at(this._index)),t},length:function(){return this._array_h.length()-this._index},empty:function(){return 0===this._array_h.length()},clear:function(){this._array_h.clear()}};var n=r;exports.default=n;
},{}],"LNzP":[function(require,module,exports) {
function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(t)}function t(n){return"function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?module.exports=t=function(t){return o(t)}:module.exports=t=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":o(t)},t(n)}module.exports=t;
},{}],"Aofe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e,o=t(require("@babel/runtime/helpers/typeof"));function t(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&"object"==(0,o.default)(e)){var t=[],a=this.context.root.lookup("easemob.pb.KeyValue"),n=[];for(var i in e){var s=a.decode(t);s.key=i,"object"==(0,o.default)(e[i])?(s.type=8,s.stringValue=JSON.stringify(e[i])):"string"==typeof e[i]?(s.type=7,s.stringValue=e[i]):"boolean"==typeof e[i]?(s.type=1,s.varintValue=e[i]):Number.isInteger(e[i])?(s.type=2,s.varintValue=e[i]):(s.type=6,s.doubleValue=e[i]),n.push(s)}return n}}var n=function(e,t){t.isDebug&&console.log("上行消息：",e);var n=[],i=t.context.root.lookup("easemob.pb.MessageBody.Content").decode(n);t.isDebug&&console.log("上行contentMessage：",i);var s=t.context.root.lookup("easemob.pb.KeyValue"),m=[];switch(e.type){case"txt":i.type=0,i.text=e.msg;break;case"img":i.type=1,i.displayName=e.body.filename,i.remotePath=e.body.url,i.secretKey=e.body.secret,i.fileLength=e.body.file_length,i.size=e.body.size,i.thumbnailDisplayName=e.body.filename;break;case"video":i.type=2,i.displayName=e.body.filename,i.remotePath=e.body.url,i.secretKey=e.body.secret,i.fileLength=e.body.file_length,i.duration=e.body.length,i.thumbnailDisplayName=e.body.filename;break;case"loc":i.type=3,i.latitude=e.lat,i.longitude=e.lng,i.address=e.addr,i.latitude=e.lat;break;case"audio":i.type=4,i.displayName=e.body.filename,i.remotePath=e.body.url,i.secretKey=e.body.secret,i.fileLength=e.body.file_length,i.duration=e.body.length,i.size=e.body.size,i.thumbnailDisplayName=e.body.filename;break;case"file":i.type=5,i.displayName=e.body.filename,i.remotePath=e.body.url,i.secretKey=e.body.secret,i.fileLength=e.body.file_length,i.size=e.body.size,i.thumbnailDisplayName=e.body.filename;break;case"cmd":i.type=6,i.action=e.action;break;case"custom":i.type=7,i.params=a.call(t,e.params),i.customEvent=e.customEvent,i.customExts=a.call(t,e.customExts)}if(e.ext)for(var r in e.ext){var p=s.decode(n);p.key=r,"object"==(0,o.default)(e.ext[r])?(p.type=8,p.stringValue=JSON.stringify(e.ext[r])):"string"==typeof e.ext[r]?(p.type=7,p.stringValue=e.ext[r]):"boolean"==typeof e.ext[r]?(p.type=1,p.varintValue=e.ext[r]):Number.isInteger(e.ext[r])?(p.type=2,p.varintValue=e.ext[r]):(p.type=6,p.doubleValue=e.ext[r]),m.push(p)}var l=t.context.root.lookup("easemob.pb.MessageBody"),c=l.decode(n);t.isDebug&&console.log("上行messageBody：",c),"recall"===e.type?(c.type=6,c.from={name:t.context.jid.name},c.to={name:e.to},c.ackMessageId=e.ackId):"delivery"===e.type?(c.type=5,c.from={name:t.context.jid.name},c.to={name:e.to},c.ackMessageId=e.ackId):"read"===e.type?(c.type=4,c.from={name:t.context.jid.name},c.to={name:e.to},c.ackMessageId=e.ackId,e.msgConfig&&"groupchat"===e.group&&!e.roomType&&(c.msgConfig=e.msgConfig,c.ackContent=e.ackContent)):e.group||e.roomType?"groupchat"!==e.group||e.roomType?"groupchat"===e.group&&e.roomType&&(c.type=3,c.from={name:t.context.jid.name},c.to={name:e.to}):(c.type=2,c.from={name:t.context.jid.name},c.to={name:e.to},e.msgConfig&&(c.msgConfig=e.msgConfig)):(c.type=1,c.from={name:t.context.jid.name},c.to={name:e.to}),c.contents=[i],c.ext=m,c=l.encode(c).finish();var y=t.context.root.lookup("easemob.pb.Meta").decode(n);if(y.id=e.id,"recall"===e.type){y.from=t.context.jid;var d="easemob.com";"groupchat"!==e.group&&"chatroom"!==e.group||(d="conference.easemob.com"),y.to={appKey:t.appKey,name:e.to,domain:d}}else if("delivery"===e.type)y.from=t.context.jid,y.to={appKey:t.appKey,name:e.to,domain:"easemob.com"};else if("read"===e.type){y.from=t.context.jid;d="easemob.com";"groupchat"===e.group&&(d="conference.easemob.com"),y.to={appKey:t.appKey,name:e.to,domain:d}}else e.group||e.roomType?"groupchat"!==e.group||e.roomType?"groupchat"===e.group&&e.roomType&&(y.from={appKey:t.appKey,name:t.user,domain:"conference.easemob.com"},y.to={appKey:t.appKey,name:e.to,domain:"conference.easemob.com"}):(y.from={appKey:t.appKey,name:t.user,domain:"conference.easemob.com"},y.to={appKey:t.appKey,name:e.to,domain:"conference.easemob.com"}):(y.from=t.context.jid,y.to={appKey:t.appKey,name:e.to,domain:"easemob.com"});y.ns=1,y.payload=c,t.isDebug&&console.log("上行MetaMessage：",y);var g=t.context.root.lookup("easemob.pb.CommSyncUL"),u=g.decode(n);u.meta=y,t.isDebug&&console.log("上行commSyncULMessage：",u),u=g.encode(u).finish();var f=t.context.root.lookup("easemob.pb.MSync"),b=f.decode(n);b.version=t.version,b.encryptType=t.encryptType,b.command=0,b.guid=t.context.jid,b.payload=u,t.isDebug&&console.log("上行MSync：",b),b=f.encode(b).finish(),t.sendMSync(b)},i=function(o,t,a){e=a;var i=t||this;if(i.msg=o,!o.file)return n(i.msg,t);if(i.msg.body&&i.msg.body.url)return n(i.msg,t);var s=i.msg.onFileUploadComplete;i.msg.onFileUploadComplete=function(e){if(e.entities[0]["file-metadata"]){var o=e.entities[0]["file-metadata"]["content-length"];i.msg.filetype=e.entities[0]["file-metadata"]["content-type"],o>204800&&(i.msg.thumbnail=!0)}i.msg.body={type:i.msg.type||"file",url:(t.isHttpDNS?t.apiUrl+e.uri.substr(e.uri.indexOf("/",9)):e.uri)+"/"+e.entities[0].uuid+"?em-redirect=true",secret:e.entities[0]["share-secret"],filename:i.msg.file.filename||i.msg.filename,size:{width:i.msg.width||0,height:i.msg.height||0},length:i.msg.length||0,file_length:i.msg.ext.file_length||0,filetype:i.msg.filetype||i.msg.file.filetype},n(i.msg,t),s instanceof Function&&s(e,i.msg.id)},e.uploadFile.call(t,i.msg)},s=i;exports.default=s;
},{"@babel/runtime/helpers/typeof":"LNzP"}],"YA3p":[function(require,module,exports) {
module.exports=t;var i=null;try{i=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(L){}function t(i,t,n){this.low=0|i,this.high=0|t,this.unsigned=!!n}function n(i){return!0===(i&&i.__isLong__)}t.prototype.__isLong__,Object.defineProperty(t.prototype,"__isLong__",{value:!0}),t.isLong=n;var h={},s={};function e(i,t){var n,e,r;return t?(r=0<=(i>>>=0)&&i<256)&&(e=s[i])?e:(n=u(i,(0|i)<0?-1:0,!0),r&&(s[i]=n),n):(r=-128<=(i|=0)&&i<128)&&(e=h[i])?e:(n=u(i,i<0?-1:0,!1),r&&(h[i]=n),n)}function r(i,t){if(isNaN(i))return t?N:m;if(t){if(i<0)return N;if(i>=c)return p}else{if(i<=-w)return _;if(i+1>=w)return q}return i<0?r(-i,t).neg():u(i%d|0,i/d|0,t)}function u(i,n,h){return new t(i,n,h)}t.fromInt=e,t.fromNumber=r,t.fromBits=u;var o=Math.pow;function g(i,t,n){if(0===i.length)throw Error("empty string");if("NaN"===i||"Infinity"===i||"+Infinity"===i||"-Infinity"===i)return m;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var h;if((h=i.indexOf("-"))>0)throw Error("interior hyphen");if(0===h)return g(i.substring(1),t,n).neg();for(var s=r(o(n,8)),e=m,u=0;u<i.length;u+=8){var f=Math.min(8,i.length-u),l=parseInt(i.substring(u,u+f),n);if(f<8){var a=r(o(n,f));e=e.mul(a).add(r(l))}else e=(e=e.mul(s)).add(r(l))}return e.unsigned=t,e}function f(i,t){return"number"==typeof i?r(i,t):"string"==typeof i?g(i,t):u(i.low,i.high,"boolean"==typeof t?t:i.unsigned)}t.fromString=g,t.fromValue=f;var l=65536,a=1<<24,d=l*l,c=d*d,w=c/2,v=e(a),m=e(0);t.ZERO=m;var N=e(0,!0);t.UZERO=N;var E=e(1);t.ONE=E;var y=e(1,!0);t.UONE=y;var b=e(-1);t.NEG_ONE=b;var q=u(-1,2147483647,!1);t.MAX_VALUE=q;var p=u(-1,-1,!0);t.MAX_UNSIGNED_VALUE=p;var _=u(0,-2147483648,!1);t.MIN_VALUE=_;var B=t.prototype;B.toInt=function(){return this.unsigned?this.low>>>0:this.low},B.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},B.toString=function(i){if((i=i||10)<2||36<i)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(_)){var t=r(i),n=this.div(t),h=n.mul(t).sub(this);return n.toString(i)+h.toInt().toString(i)}return"-"+this.neg().toString(i)}for(var s=r(o(i,6),this.unsigned),e=this,u="";;){var g=e.div(s),f=(e.sub(g.mul(s)).toInt()>>>0).toString(i);if((e=g).isZero())return f+u;for(;f.length<6;)f="0"+f;u=""+f+u}},B.getHighBits=function(){return this.high},B.getHighBitsUnsigned=function(){return this.high>>>0},B.getLowBits=function(){return this.low},B.getLowBitsUnsigned=function(){return this.low>>>0},B.getNumBitsAbs=function(){if(this.isNegative())return this.eq(_)?64:this.neg().getNumBitsAbs();for(var i=0!=this.high?this.high:this.low,t=31;t>0&&0==(i&1<<t);t--);return 0!=this.high?t+33:t+1},B.isZero=function(){return 0===this.high&&0===this.low},B.eqz=B.isZero,B.isNegative=function(){return!this.unsigned&&this.high<0},B.isPositive=function(){return this.unsigned||this.high>=0},B.isOdd=function(){return 1==(1&this.low)},B.isEven=function(){return 0==(1&this.low)},B.equals=function(i){return n(i)||(i=f(i)),(this.unsigned===i.unsigned||this.high>>>31!=1||i.high>>>31!=1)&&(this.high===i.high&&this.low===i.low)},B.eq=B.equals,B.notEquals=function(i){return!this.eq(i)},B.neq=B.notEquals,B.ne=B.notEquals,B.lessThan=function(i){return this.comp(i)<0},B.lt=B.lessThan,B.lessThanOrEqual=function(i){return this.comp(i)<=0},B.lte=B.lessThanOrEqual,B.le=B.lessThanOrEqual,B.greaterThan=function(i){return this.comp(i)>0},B.gt=B.greaterThan,B.greaterThanOrEqual=function(i){return this.comp(i)>=0},B.gte=B.greaterThanOrEqual,B.ge=B.greaterThanOrEqual,B.compare=function(i){if(n(i)||(i=f(i)),this.eq(i))return 0;var t=this.isNegative(),h=i.isNegative();return t&&!h?-1:!t&&h?1:this.unsigned?i.high>>>0>this.high>>>0||i.high===this.high&&i.low>>>0>this.low>>>0?-1:1:this.sub(i).isNegative()?-1:1},B.comp=B.compare,B.negate=function(){return!this.unsigned&&this.eq(_)?_:this.not().add(E)},B.neg=B.negate,B.add=function(i){n(i)||(i=f(i));var t=this.high>>>16,h=65535&this.high,s=this.low>>>16,e=65535&this.low,r=i.high>>>16,o=65535&i.high,g=i.low>>>16,l=0,a=0,d=0,c=0;return d+=(c+=e+(65535&i.low))>>>16,a+=(d+=s+g)>>>16,l+=(a+=h+o)>>>16,l+=t+r,u((d&=65535)<<16|(c&=65535),(l&=65535)<<16|(a&=65535),this.unsigned)},B.subtract=function(i){return n(i)||(i=f(i)),this.add(i.neg())},B.sub=B.subtract,B.multiply=function(t){if(this.isZero())return m;if(n(t)||(t=f(t)),i)return u(i.mul(this.low,this.high,t.low,t.high),i.get_high(),this.unsigned);if(t.isZero())return m;if(this.eq(_))return t.isOdd()?_:m;if(t.eq(_))return this.isOdd()?_:m;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(v)&&t.lt(v))return r(this.toNumber()*t.toNumber(),this.unsigned);var h=this.high>>>16,s=65535&this.high,e=this.low>>>16,o=65535&this.low,g=t.high>>>16,l=65535&t.high,a=t.low>>>16,d=65535&t.low,c=0,w=0,N=0,E=0;return N+=(E+=o*d)>>>16,w+=(N+=e*d)>>>16,N&=65535,w+=(N+=o*a)>>>16,c+=(w+=s*d)>>>16,w&=65535,c+=(w+=e*a)>>>16,w&=65535,c+=(w+=o*l)>>>16,c+=h*d+s*a+e*l+o*g,u((N&=65535)<<16|(E&=65535),(c&=65535)<<16|(w&=65535),this.unsigned)},B.mul=B.multiply,B.divide=function(t){if(n(t)||(t=f(t)),t.isZero())throw Error("division by zero");var h,s,e;if(i)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?u((this.unsigned?i.div_u:i.div_s)(this.low,this.high,t.low,t.high),i.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?N:m;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return N;if(t.gt(this.shru(1)))return y;e=N}else{if(this.eq(_))return t.eq(E)||t.eq(b)?_:t.eq(_)?E:(h=this.shr(1).div(t).shl(1)).eq(m)?t.isNegative()?E:b:(s=this.sub(t.mul(h)),e=h.add(s.div(t)));if(t.eq(_))return this.unsigned?N:m;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=m}for(s=this;s.gte(t);){h=Math.max(1,Math.floor(s.toNumber()/t.toNumber()));for(var g=Math.ceil(Math.log(h)/Math.LN2),l=g<=48?1:o(2,g-48),a=r(h),d=a.mul(t);d.isNegative()||d.gt(s);)d=(a=r(h-=l,this.unsigned)).mul(t);a.isZero()&&(a=E),e=e.add(a),s=s.sub(d)}return e},B.div=B.divide,B.modulo=function(t){return n(t)||(t=f(t)),i?u((this.unsigned?i.rem_u:i.rem_s)(this.low,this.high,t.low,t.high),i.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},B.mod=B.modulo,B.rem=B.modulo,B.not=function(){return u(~this.low,~this.high,this.unsigned)},B.and=function(i){return n(i)||(i=f(i)),u(this.low&i.low,this.high&i.high,this.unsigned)},B.or=function(i){return n(i)||(i=f(i)),u(this.low|i.low,this.high|i.high,this.unsigned)},B.xor=function(i){return n(i)||(i=f(i)),u(this.low^i.low,this.high^i.high,this.unsigned)},B.shiftLeft=function(i){return n(i)&&(i=i.toInt()),0==(i&=63)?this:i<32?u(this.low<<i,this.high<<i|this.low>>>32-i,this.unsigned):u(0,this.low<<i-32,this.unsigned)},B.shl=B.shiftLeft,B.shiftRight=function(i){return n(i)&&(i=i.toInt()),0==(i&=63)?this:i<32?u(this.low>>>i|this.high<<32-i,this.high>>i,this.unsigned):u(this.high>>i-32,this.high>=0?0:-1,this.unsigned)},B.shr=B.shiftRight,B.shiftRightUnsigned=function(i){if(n(i)&&(i=i.toInt()),0===(i&=63))return this;var t=this.high;return i<32?u(this.low>>>i|t<<32-i,t>>>i,this.unsigned):u(32===i?t:t>>>i-32,0,this.unsigned)},B.shru=B.shiftRightUnsigned,B.shr_u=B.shiftRightUnsigned,B.toSigned=function(){return this.unsigned?u(this.low,this.high,!1):this},B.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,!0)},B.toBytes=function(i){return i?this.toBytesLE():this.toBytesBE()},B.toBytesLE=function(){var i=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&i,i>>>8&255,i>>>16&255,i>>>24]},B.toBytesBE=function(){var i=this.high,t=this.low;return[i>>>24,i>>>16&255,i>>>8&255,255&i,t>>>24,t>>>16&255,t>>>8&255,255&t]},t.fromBytes=function(i,n,h){return h?t.fromBytesLE(i,n):t.fromBytesBE(i,n)},t.fromBytesLE=function(i,n){return new t(i[0]|i[1]<<8|i[2]<<16|i[3]<<24,i[4]|i[5]<<8|i[6]<<16|i[7]<<24,n)},t.fromBytesBE=function(i,n){return new t(i[4]<<24|i[5]<<16|i[6]<<8|i[7],i[0]<<24|i[1]<<16|i[2]<<8|i[3],n)};
},{}],"Wui4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("@babel/runtime/helpers/typeof"));function e(t){return t&&t.__esModule?t:{default:t}}var r=function(){};Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,r=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=n.length;return function(i){if("object"!==(0,t.default)(i)&&("function"!=typeof i||null===i))throw new TypeError("Object.keys called on non-object");var a,u,f=[];for(a in i)e.call(i,a)&&f.push(a);if(r)for(u=0;u<o;u++)e.call(i,n[u])&&f.push(n[u]);return f}}());var n={emptyfn:r,stringify:function(e){if("undefined"!=typeof JSON&&JSON.stringify)return JSON.stringify(e);var r="",n=[];return function e(o){var i=!1;for(var a in"[object Array]"===Object.prototype.toString.call(o)?(n.push("]","["),i=!0):"[object Object]"===Object.prototype.toString.call(o)&&n.push("}","{"),o)"[object Null]"===Object.prototype.toString.call(o[a])?o[a]="null":"[object Undefined]"===Object.prototype.toString.call(o[a])&&(o[a]="undefined"),o[a]&&"object"===(0,t.default)(o[a])?r+=","+(i?"":'"'+a+'":'+(i?'"':""))+e(o[a]):r+=',"'+(i?"":a+'":"')+o[a]+'"';return""!=r&&(r=r.slice(1)),n.pop()+r+n.pop()}(e)},getFileSize:function(t){var e=this.getFileLength(t);if(e>1e7)return!1;var r=Math.round(e/1e3);if(r<1e3)e=r+" KB";else if(r>=1e3){var n=r/1e3;if(n<1e3)e=n.toFixed(1)+" MB";else e=(n/1e3).toFixed(1)+" GB"}return e},trim:function(t){return(t="string"==typeof t?t:"").trim?t.trim():t.replace(/^\s|\s$/g,"")},parseTextMessage:function(t,e){if("string"==typeof t){if("[object Object]"!==Object.prototype.toString.call(e))return{isemoji:!1,body:[{type:"txt",data:t}]};var r=t,n=[],o=r.match(/\[[^[\]]{2,3}\]/gm);if(!o||o.length<1)return{isemoji:!1,body:[{type:"txt",data:t}]};for(var i=!1,a=0;a<o.length;a++){var u=r.substring(0,r.indexOf(o[a])),f=WebIM.Emoji.map[o[a]];if(u&&n.push({type:"txt",data:u}),f){var s=WebIM.Emoji.map?WebIM.Emoji.path+f:null;s?(i=!0,n.push({type:"emoji",data:s})):n.push({type:"txt",data:o[a]});var p=r.indexOf(o[a])+o[a].length;r=r.substring(p)}else n.push({type:"txt",data:o[a]})}return r&&n.push({type:"txt",data:r}),i?{isemoji:i,body:n}:{isemoji:!1,body:[{type:"txt",data:t}]}}},ts:function(){var t=new Date,e=t.getHours(),r=t.getMinutes(),n=t.getSeconds();return(e<10?"0"+e:e)+":"+(r<10?"0"+r:r)+":"+(n<10?"0"+n:n)+":"+t.getMilliseconds()+" "},getObjectKey:function(t,e){for(var r in t)if(t[r]==e)return r;return""},sprintf:function(){var t,e,r=arguments,n=r[0]||"";for(t=1,e=r.length;t<e;t++)n=n.replace(/%s/,r[t]);return n},reverse:function(t){var e=[];if(Array.prototype.reverse)e=t.reverse();else for(var r=0;r<t.length;r++)e.unshift(t[r]);return e},checkArray:function(t,e){var r="off";if(t.forEach(function(t,n){if(t.name===e.name)return r="on",n}),"off"==r)return!1}},o=n;exports.default=o;
},{"@babel/runtime/helpers/typeof":"LNzP"}],"TvlR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("long")),t=i(require("./sendChatMessage")),o=i(require("../status")),r=i(require("../message")),s=i(require("../utils/commonUtil"));function i(e){return e&&e.__esModule?e:{default:e}}var a=(0,o.default)(),n={0:"TEXT",1:"IMAGE",2:"VIDEO",3:"LOCATION",4:"VOICE",5:"FILE",6:"COMMAND",7:"CUSTOM"},g=function(e,o,s){if(e.delivery&&o.from!==o.to){var i=e.getUniqueId(),a=new r.default("delivery",i);a.set({ackId:s,to:o.from}),(0,t.default)(a.body,e)}},d=function(t){if(t){for(var o=t,r={},s=0;s<o.length;s++)if(8==o[s].type)r[o[s].key]=JSON.parse(o[s].stringValue);else if(7==o[s].type)r[o[s].key]=o[s].stringValue;else if(6==o[s].type)r[o[s].key]=o[s].doubleValue;else if(5==o[s].type)r[o[s].key]=o[s].floatValue;else if(1==o[s].type||2==o[s].type||3==o[s].type||4==o[s].type)if(2==o[s].type){var i=o[s].varintValue,a=new e.default(i.low,i.high,i.unsigned).toString();r[o[s].key]=Number(a)}else r[o[s].key]=o[s].varintValue;return r}},l=function(t,o,r,i){var l=r,m=new e.default(t.timestamp.low,t.timestamp.high,t.timestamp.unsigned).toString(),f=l.context.root.lookup("easemob.pb.MessageBody").decode(t.payload),y=new e.default(t.id.low,t.id.high,t.id.unsigned).toString(),c=f.ackMessageId?new e.default(f.ackMessageId.low,f.ackMessageId.high,f.ackMessageId.unsigned).toString():"",u=null;if(r.isDebug&&console.log("下行消息：",f),1===f.type)u="chat";else if(2===f.type)u="groupchat";else if(3===f.type)u="chatroom";else{if(4===f.type)return u="read_ack",f.msgConfig?void r.onReadMessage({mid:c,groupReadCount:f.ext[0]&&JSON.parse(f.ext[0].stringValue),ackContent:f.ackContent}):void r.onReadMessage({mid:c});if(5===f.type)return u="deliver_ack",void r.onDeliverdMessage({mid:c});if(6===f.type)return u="recall",void r.onRecallMessage({mid:c})}for(var p=0;p<f.contents.length;p++){var C={},h=o.errorCode>0,x=o.errorCode,k=o.reason,v=f.contents[p],M=f.from.name,T=f.to.name,b={};f.ext&&(b=d(f.ext));try{switch(v.type){case 0:var E=f.contents[p].text;if(!O)var O={};var _=s.default.parseTextMessage(E,O&&O.Emoji);_.isemoji?(!(C={id:y,type:u,contentsType:"EMOJI",from:M,to:T,data:_.body,ext:b,time:m,msgConfig:f.msgConfig}).delay&&delete C.delay,!C.msgConfig&&delete f.msgConfig,C.error=h,C.errorText=k,C.errorCode=x,!i&&l.onEmojiMessage(C)):(!(C={id:y,type:u,contentsType:n[v.type],from:M,to:T,data:v.text,ext:b,sourceMsg:v.text,time:m,msgConfig:f.msgConfig}).msgConfig&&delete f.msgConfig,C.error=h,C.errorText=k,C.errorCode=x,!i&&r.onTextMessage(C));break;case 1:if(v.size)var I=v.size.width||0,P=v.size.height||0;!(C={id:y,type:u,contentsType:n[v.type],from:M,to:T,url:v.remotePath&&l.apiUrl+v.remotePath.substr(v.remotePath.indexOf("/",9)),secret:v.secretKey,filename:v.displayName,thumb:v.thumbnailRemotePath,thumb_secret:v.thumbnailSecretKey,file_length:v.fileLength||"",width:I,height:P,filetype:v.filetype||"",accessToken:r.token||"",ext:b,time:m,msgConfig:f.msgConfig}).delay&&delete C.delay,!C.msgConfig&&delete f.msgConfig,C.error=h,C.errorText=k,C.errorCode=x,!i&&r.onPictureMessage(C);break;case 2:!(C={id:y,type:u,contentsType:n[v.type],from:M,to:T,url:v.remotePath&&l.apiUrl+v.remotePath.substr(v.remotePath.indexOf("/",9)),secret:v.secretKey,filename:v.displayName,length:v.duration||"",file_length:v.fileLength||"",filetype:v.filetype||"",accessToken:r.token||"",ext:b,time:m,msgConfig:f.msgConfig}).delay&&delete C.delay,!C.msgConfig&&delete f.msgConfig,C.error=h,C.errorText=k,C.errorCode=x,!i&&r.onVideoMessage(C);break;case 3:!(C={id:y,type:u,contentsType:n[v.type],from:M,to:T,addr:v.address,lat:v.latitude,lng:v.longitude,ext:b,time:m,msgConfig:f.msgConfig}).delay&&delete C.delay,!C.msgConfig&&delete f.msgConfig,C.error=h,C.errorText=k,C.errorCode=x,!i&&r.onLocationMessage(C);break;case 4:!(C={id:y,type:u,contentsType:n[v.type],from:M,to:T,url:v.remotePath&&l.apiUrl+v.remotePath.substr(v.remotePath.indexOf("/",9)),secret:v.secretKey,filename:v.displayName,file_length:v.fileLength||"",accessToken:r.token||"",ext:b,length:v.duration,time:m,msgConfig:f.msgConfig}).delay&&delete C.delay,!C.msgConfig&&delete f.msgConfig,C.error=h,C.errorText=k,C.errorCode=x,!i&&r.onAudioMessage(C);break;case 5:!(C={id:y,type:u,contentsType:n[v.type],from:M,to:T,url:v.remotePath&&l.apiUrl+v.remotePath.substr(v.remotePath.indexOf("/",9)),secret:v.secretKey,filename:v.displayName,file_length:v.fileLength,accessToken:r.token||"",ext:b,time:m,msgConfig:f.msgConfig}).delay&&delete C.delay,!C.msgConfig&&delete f.msgConfig,C.error=h,C.errorText=k,C.errorCode=x,!i&&r.onFileMessage(C);break;case 6:!(C={id:y,contentsType:n[v.type],from:M,to:T,action:v.action,ext:b,time:m,msgConfig:f.msgConfig}).msgConfig&&delete f.msgConfig,C.error=h,C.errorText=k,C.errorCode=x,!i&&r.onCmdMessage(C);break;case 7:var N="",w="";f.contents[0].customExts&&(N=d(f.contents[0].customExts)),f.contents[0].params&&(w=d(f.contents[0].params)),C={id:y,contentsType:n[v.type],from:M,to:T,customEvent:v.customEvent,params:w,customExts:N,ext:b,time:m},!i&&r.onCustomMessage(C)}}catch(V){r.onError({type:a.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,data:V})}if(!i&&1===f.type&&r.delivery&&g(r,C,y),i||r.delivery)return C.message_type=u,C}},m=l;exports.default=m;
},{"long":"YA3p","./sendChatMessage":"Aofe","../status":"KLYY","../message":"KTph","../utils/commonUtil":"Wui4"}],"wnFo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("long"));function n(e){return e&&e.__esModule?e:{default:e}}var o=function(n,o,t){var c=t.context.root.lookup("easemob.pb.MUCBody").decode(n.payload);new e.default(n.id.low,n.id.high,n.id.unsigned).toString();!function(e){var n={type:"",owner:c.from.name,gid:c.mucId.name,from:c.from.name,fromJid:c.from,to:c.to.length?c.to[0].name:"",toJid:c.to,chatroom:c.isChatroom,status:c.status};({32:function(){n.type=c.isChatroom?"rmChatRoomMute":"rmGroupMute",t.onPresence(n)},31:function(){n.type=c.isChatroom?"muteChatRoom":"muteGroup",t.onPresence(n)},30:function(){n.type=c.isChatroom?"rmUserFromChatRoomWhiteList":"rmUserFromGroupWhiteList",t.onPresence(n)},29:function(){n.type=c.isChatroom?"addUserToChatRoomWhiteList":"addUserToGroupWhiteList",t.onPresence(n)},28:function(){n.type="deleteFile",t.onPresence(n)},27:function(){n.type="uploadFile",t.onPresence(n)},26:function(){n.type="deleteAnnouncement",t.onPresence(n)},25:function(){n.type="updateAnnouncement",t.onPresence(n)},24:function(){n.type="removeMute",t.onPresence(n)},23:function(){n.type="addMute",t.onPresence(n)},22:function(){n.type="removeAdmin",t.onPresence(n)},21:function(){n.type="addAdmin",t.onPresence(n)},20:function(){n.type="changeOwner",t.onPresence(n)},19:function(){n.type="direct_joined",t.onPresence(n)},18:function(){n.type=c.isChatroom?"leaveChatRoom":"leaveGroup",t.onPresence(n)},17:function(){n.type=c.isChatroom?"memberJoinChatRoomSuccess":"memberJoinPublicGroupSuccess",t.onPresence(n)},16:function(){n.type="unblock",t.onPresence(n)},15:function(){n.type="block",t.onPresence(n)},14:function(){n.type="update",t.onPresence(n)},13:function(){n.type="allow",n.reason=c.reason,t.onPresence(n)},12:function(){n.type="ban",t.onPresence(n)},11:function(){n.type="getBlackList",t.onPresence(n)},10:function(){n.type="removedFromGroup",n.kicked=n.to,t.onPresence(n)},9:function(){n.type="invite_decline",n.kicked=n.to,t.onPresence(n)},8:function(){n.type="invite_accept",n.kicked=n.to,t.onPresence(n)},7:function(){n.type="invite",n.kicked=n.to,t.onPresence(n)},6:function(){n.type="joinPublicGroupDeclined",t.onPresence(n)},5:function(){n.type="joinPublicGroupSuccess",t.onPresence(n)},4:function(){n.type="joinGroupNotifications",n.reason=c.reason,t.onPresence(n)},3:function(){n.type="leave",t.onPresence(n)},2:function(){n.type="join",t.onPresence(n)},1:function(){n.type="deleteGroupChat",t.onPresence(n)}}[e]||function(){console.log("%c没有匹配".concat(e,"类型"),"background: green")})()}(c.operation)},t=o;exports.default=t;
},{"long":"YA3p"}],"UOYe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("long"));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e,o,a){var t=[],n=a.context.root.lookup("easemob.pb.RosterBody"),r=n.decode(t);"add"===o?r.operation=2:"remove"===o?r.operation=3:"accept"===o?r.operation=4:"decline"===o?r.operation=5:"ban"===o?r.operation=6:"allow"===o&&(r.operation=7),r.from=a.context.jid;var s=[];if("string"==typeof e.to)s.push({appKey:a.appKey||a.context.appKey,name:e.to,domain:"easemob.com"});else if(e.to instanceof Array)for(var c=0;c<e.to.length;c++)s.push({appKey:a.appKey,name:e.to[c],domain:"easemob.com"});r.to=s,r.reason=e.message,r=n.encode(r).finish();var d=a.context.root.lookup("easemob.pb.Meta").decode(t);d.id=e.id||a.getUniqueId(),d.from=a.context.jid,d.to={domain:"@easemob.com"},d.ns=3,d.payload=r;var i=a.context.root.lookup("easemob.pb.CommSyncUL"),p=i.decode(t);p.meta=d,p=i.encode(p).finish();var b=a.context.root.lookup("easemob.pb.MSync"),u=b.decode(t);u.version=a.version,u.encryptType=[0],u.command=0,u.guid=a.jid,u.payload=p,u=b.encode(u).finish(),a.sendMSync(u)},t=function(o,a,t){var n=t.context.root.lookup("easemob.pb.RosterBody").decode(o.payload),r=(new e.default(o.id.low,o.id.high,o.id.unsigned).toString(),{to:n.to[0].name,from:n.from.name,status:n.reason});switch(n.operation){case 0:break;case 2:r.type="subscribe";break;case 3:r.type="unsubscribed";break;case 4:r.type="subscribed";break;case 5:r.type="unsubscribed";break;case 6:case 7:t.getBlacklist();break;case 8:r.type="subscribed";break;case 9:r.type="unsubscribed"}t.onPresence(r)},n={handleMessage:t,operatRoster:a},r=n;exports.default=r;
},{"long":"YA3p"}],"pE/p":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("long")),t=o(require("../status"));function o(e){return e&&e.__esModule?e:{default:e}}var r=(0,t.default)(),a=function(t,o,a){var _=a.context.root.lookup("easemob.pb.StatisticsBody").decode(t.payload);new e.default(t.id.low,t.id.high,t.id.unsigned).toString();switch(_.operation){case 0:a.onStatisticMessage(_);break;case 1:var E={type:r.WEBIM_CONNCTION_USER_REMOVED};a.logOut=!0,a.onError(E);break;case 2:E={type:r.WEBIM_CONNCTION_USER_LOGIN_ANOTHER_DEVICE};a.logOut=!0,a.onError(E);break;case 3:E={type:r.WEBIM_CONNCTION_USER_KICKED_BY_CHANGE_PASSWORD};a.logOut=!0,a.onError(E);break;case 4:E={type:r.WEBIM_CONNCTION_USER_KICKED_BY_OTHER_DEVICE};a.logOut=!0,a.onError(E)}},_=a;exports.default=_;
},{"long":"YA3p","../status":"KLYY"}],"xwXl":[function(require,module,exports) {
function e(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}module.exports=e;
},{}],"wTgU":[function(require,module,exports) {
!function(){var e="object"==typeof exports&&null!==exports&&"number"!=typeof exports.nodeType?exports:"undefined"!=typeof self?self:$.global,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function r(e){this.message=e}r.prototype=new Error,r.prototype.name="InvalidCharacterError",e.btoa||(e.btoa=function(e){for(var o,n,a=String(e),i=0,c=t,f="";a.charAt(0|i)||(c="=",i%1);f+=c.charAt(63&o>>8-i%1*8)){if((n=a.charCodeAt(i+=.75))>255)throw new r("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");o=o<<8|n}return f}),e.atob||(e.atob=function(e){var o=String(e).replace(/[=]+$/,"");if(o.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,a,i=0,c=0,f="";a=o.charAt(c++);~a&&(n=i%4?64*n+a:a,i++%4)?f+=String.fromCharCode(255&n>>(-2*i&6)):0)a=t.indexOf(a);return f})}();
},{}],"np0Q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t,e=i(require("@babel/runtime/helpers/defineProperty")),s=i(require("./chat/handleChatMessage")),r=i(require("./status")),a=i(require("Base64"));function i(t){return t&&t.__esModule?t:{default:t}}var o=(0,r.default)(),n=(t={mr_cache:[],_fetchMessages:function(t,e){var r=t.accessToken||e.context.accessToken;if(e._utils.isCanSetRequestHeader)if(r){var i=e.apiUrl,n=e.context.appName,u=e.context.orgName;if(!n||!u)return void e.onError({type:o.WEBIM_CONNCTION_AUTH_ERROR});if(!t.queue)return void e.onError({type:"",msg:"queue is not specified"});var p=t.queue,c=this.mr_cache[p]||(this.mr_cache[p]={msgs:[]}),h=e.context.userId,l=-1;if(c.msgs.length>=t.count||c.is_last)return void("function"==typeof t.success&&t.success(c));c&&c.next_key&&(l=c.next_key);var m={queue:p+(t.isGroup?"@conference.easemob.com":"@easemob.com"),start:l,end:-1},d={url:i+"/"+u+"/"+n+"/users/"+h+"/messageroaming",dataType:"json",type:"POST",headers:{Authorization:"Bearer "+r},data:JSON.stringify(m),success:function(r,i){if(r&&r.data){var o=r.data;if(!r.data.msgs)return"function"==typeof t.success&&t.success(c),c.is_last=!0,void(c.next_key="");var n=o.msgs,u=n.length;c.is_last=o.is_last,c.next_key=o.next_key;var p=function(t){for(var r=[],i=0,o=(t=a.default.atob(t)).length;i<o;++i)r.push(t.charCodeAt(i));var n=e.context.root.lookup("easemob.pb.Meta");if(1==(n=n.decode(r)).ns)return(0,s.default)(n,{errorCode:0,reason:""},e,!0)};try{for(var h=0;h<u;h++){var l=p(n[h].msg);l&&c.msgs.push(l)}}catch(m){console.log(m)}finally{"function"==typeof t.success&&t.success(c)}}}||e._utils.emptyfn,error:function(t,s){t.error&&t.error_description&&e.onError({type:o.WEBIM_CONNCTION_LOAD_CHATROOM_ERROR,msg:t.error_description,data:t})}||e._utils.emptyfn};e._utils.ajax(d)}else e.onError({type:o.WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR});else e.onError({type:o.WEBIM_CONNCTION_NOT_SUPPORT_CHATROOM_ERROR})},fetchHistoryMessages:function(t){var e=this;if(t.queue){var s=t.count||20;!function r(){e._fetchMessages({count:s,isGroup:!!t.isGroup,queue:t.queue,success:function(a){a.msgs.length>=s||a.is_last?t.success&&t.success(e._utils.reverse(a.msgs.splice(0,s))):r()},fail:function(){}},e)}()}else e.onError({type:"",msg:"queue is not specified"})},getChatRooms:function(t){var e=this,s=t.accessToken||this.context.accessToken;if(e._utils.isCanSetRequestHeader)if(s){var r=t.apiUrl,a=this.context.appName,i=this.context.orgName;if(!a||!i)return void e.onError({type:o.WEBIM_CONNCTION_AUTH_ERROR});var n={url:r+"/"+i+"/"+a+"/chatrooms",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+s},data:{pagenum:parseInt(t.pagenum)||1,pagesize:parseInt(t.pagesize)||20},success:function(e,s){"function"==typeof t.success&&t.success(e)}||e._utils.emptyfn,error:function(t,s,r){t.error&&t.error_description&&e.onError({type:o.WEBIM_CONNCTION_LOAD_CHATROOM_ERROR,msg:t.error_description,data:t,xhr:s})}||e._utils.emptyfn};e._utils.ajax(n)}else e.onError({type:o.WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR});else e.onError({type:o.WEBIM_CONNCTION_NOT_SUPPORT_CHATROOM_ERROR})},joinChatRoom:function(t){t=t||{};if(this._utils.isCanSetRequestHeader){var e=this,s=t.accessToken||this.token;if(s){var r=t.apiUrl||this.apiUrl,a=this.context.appName,i=this.context.orgName,n=t.roomId,u=t.message||"";if(!a||!i)return void e.onError({type:o.WEBIM_CONNCTION_AUTH_ERROR});var p={url:r+"/"+i+"/"+a+"/chatrooms/"+n+"/apply",dataType:"json",type:"POST",data:JSON.stringify({message:u}),headers:{Authorization:"Bearer "+s,"Content-Type":"application/json"},success:function(e,s){"function"==typeof t.success&&t.success(e)}||e._utils.emptyfn,error:function(e,s,r){"function"==typeof t.error&&t.error(e)}||e._utils.emptyfn};e._utils.ajax(p)}else e.onError({type:o.WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR})}else e.onError({type:o.WEBIM_CONNCTION_NOT_SUPPORT_CHATROOM_ERROR})},quitChatRoom:function(t){t=t||{};if(this._utils.isCanSetRequestHeader){var e=this,s=t.accessToken||this.token;if(s){var r=t.apiUrl||this.apiUrl,a=this.context.appName,i=this.context.orgName,n=t.roomId;if(!a||!i)return void e.onError({type:o.WEBIM_CONNCTION_AUTH_ERROR});var u={url:r+"/"+i+"/"+a+"/chatrooms/"+n+"/quit",dataType:"json",type:"DELETE",headers:{Authorization:"Bearer "+s},success:function(e,s){"function"==typeof t.success&&t.success(e)}||e._utils.emptyfn,error:function(e,s,r){"function"==typeof t.error&&t.error(e)}||e._utils.emptyfn};e._utils.ajax(u)}else e.onError({type:o.WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR})}else e.onError({type:o.WEBIM_CONNCTION_NOT_SUPPORT_CHATROOM_ERROR})},createGroupNew:function(t){t.data.owner=this.user,t.data.invite_need_confirm=!1;var e={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups",dataType:"json",type:"POST",data:JSON.stringify(t.data),headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};e.success=function(e){t.success(e),this.onCreateGroup(e)}.bind(this),e.error=t.error||this._utils.emptyfn,this._utils.ajax(e)},blockGroup:function(t){var e=t.groupId;e="notification_ignore_"+e;var s={entities:[]};s.entities[0]={},s.entities[0][e]=!0;var r={type:"PUT",url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/users/"+this.user,data:JSON.stringify(s),headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=t.success||this._utils.emptyfn,r.error=t.error||this._utils.emptyfn,this._utils.ajax(r)},listGroups:function(t){var e=[];if(e.limit=t.limit,e.cursor=t.cursor,e.cursor||delete e.cursor,isNaN(t.limit))throw'The parameter "limit" should be a number';var s={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/publicchatgroups",type:"GET",dataType:"json",data:e,headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};s.success=t.success||this._utils.emptyfn,s.error=t.error||this._utils.emptyfn,this._utils.ajax(s)},getGroup:function(t){var e={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/users/"+this.user+"/joined_chatgroups",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};e.success=t.success||this._utils.emptyfn,e.error=t.error||this._utils.emptyfn,this._utils.ajax(e)},changeOwner:function(t){var e={newowner:t.newOwner},s={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t.groupId,type:"PUT",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"},data:JSON.stringify(e)};s.success=t.success||this._utils.emptyfn,s.error=t.error||this._utils.emptyfn,this._utils.ajax(s)},getGroupInfo:function(t){var e={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t.groupId+"?joined_time=true",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};e.success=t.success||this._utils.emptyfn,e.error=t.error||this._utils.emptyfn,this._utils.ajax(e)},modifyGroup:function(t){var e=t.groupId,s={groupname:t.groupName,description:t.description},r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+e,type:"PUT",data:JSON.stringify(s),dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=t.success||this._utils.emptyfn,r.error=t.error||this._utils.emptyfn,this._utils.ajax(r)},listGroupMember:function(t){if(isNaN(t.pageNum)||t.pageNum<=0)throw'The parameter "pageNum" should be a positive number';if(isNaN(t.pageSize)||t.pageSize<=0)throw'The parameter "pageSize" should be a positive number';if(null===t.groupId&&void 0===t.groupId)throw'The parameter "groupId" should be added';var e=[],s=t.groupId;e.pagenum=t.pageNum,e.pagesize=t.pageSize;var r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+s+"/users",dataType:"json",type:"GET",data:e,headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=t.success||this._utils.emptyfn,r.error=t.error||this._utils.emptyfn,this._utils.ajax(r)}},(0,e.default)(t,"listGroupMember",function(t){if(isNaN(t.pageNum)||t.pageNum<=0)throw'The parameter "pageNum" should be a positive number';if(isNaN(t.pageSize)||t.pageSize<=0)throw'The parameter "pageSize" should be a positive number';if(null===t.groupId&&void 0===t.groupId)throw'The parameter "groupId" should be added';var e=[],s=t.groupId;e.pagenum=t.pageNum,e.pagesize=t.pageSize;var r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+s+"/users",dataType:"json",type:"GET",data:e,headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=t.success||this._utils.emptyfn,r.error=t.error||this._utils.emptyfn,this._utils.ajax(r)}),(0,e.default)(t,"listChatRoomMember",function(t){if(isNaN(t.pageNum)||t.pageNum<=0)throw'The parameter "pageNum" should be a positive number';if(isNaN(t.pageSize)||t.pageSize<=0)throw'The parameter "pageSize" should be a positive number';if(null===t.chatRoomId&&void 0===t.chatRoomId)throw'The parameter "chatRoomId" should be added';var e=[],s=t.chatRoomId;e.pagenum=t.pageNum,e.pagesize=t.pageSize;var r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatrooms/"+s+"/users",dataType:"json",type:"GET",data:e,headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=t.success||this._utils.emptyfn,r.error=t.error||this._utils.emptyfn,this._utils.ajax(r)}),(0,e.default)(t,"getGroupAdmin",function(t){var e=t.groupId,s={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+e+"/admin",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};s.success=t.success||this._utils.emptyfn,s.error=t.error||this._utils.emptyfn,this._utils.ajax(s)}),(0,e.default)(t,"setAdmin",function(t){var e=t.groupId,s={newadmin:t.username},r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+e+"/admin",type:"POST",dataType:"json",data:JSON.stringify(s),headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=t.success||this._utils.emptyfn,r.error=t.error||this._utils.emptyfn,this._utils.ajax(r)}),(0,e.default)(t,"removeAdmin",function(t){var e=t.groupId,s=t.username,r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+e+"/admin/"+s,type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=t.success||this._utils.emptyfn,r.error=t.error||this._utils.emptyfn,this._utils.ajax(r)}),(0,e.default)(t,"dissolveGroup",function(t){var e=t.groupId,s={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+e+"?version=v3",type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};s.success=t.success||this._utils.emptyfn,s.error=t.error||this._utils.emptyfn,this._utils.ajax(s)}),(0,e.default)(t,"quitGroup",function(t){var e=t.groupId,s={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+e+"/quit",type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};s.success=t.success||this._utils.emptyfn,s.error=t.error||this._utils.emptyfn,this._utils.ajax(s)}),(0,e.default)(t,"inviteToGroup",function(t){var e=t.groupId,s={usernames:t.users},r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+e+"/invite",type:"POST",data:JSON.stringify(s),dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=t.success||this._utils.emptyfn,r.error=t.error||this._utils.emptyfn,this._utils.ajax(r)}),(0,e.default)(t,"joinGroup",function(t){var e={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t.groupId+"/apply",type:"POST",dataType:"json",data:JSON.stringify({message:"join group"}),headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};e.success=t.success||this._utils.emptyfn,e.error=t.error||this._utils.emptyfn,this._utils.ajax(e)}),(0,e.default)(t,"agreeJoinGroup",function(t){var e=t.groupId,s={applicant:t.applicant,verifyResult:!0,reason:"no clue"},r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+e+"/apply_verify",type:"POST",dataType:"json",data:JSON.stringify(s),headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=t.success||this._utils.emptyfn,r.error=t.error||this._utils.emptyfn,this._utils.ajax(r)}),(0,e.default)(t,"rejectJoinGroup",function(t){var e=t.groupId,s={applicant:t.applicant,verifyResult:!1,reason:"no clue"},r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+e+"/apply_verify",type:"POST",dataType:"json",data:JSON.stringify(s),headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=t.success||this._utils.emptyfn,r.error=t.error||this._utils.emptyfn,this._utils.ajax(r)}),(0,e.default)(t,"agreeInviteIntoGroup",function(t){var e=t.groupId,s={invitee:t.invitee,verifyResult:!0},r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+e+"/invite_verify",type:"POST",dataType:"json",data:JSON.stringify(s),headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=t.success||this._utils.emptyfn,r.error=t.error||this._utils.emptyfn,this._utils.ajax(r)}),(0,e.default)(t,"rejectInviteIntoGroup",function(t){var e=t.groupId,s={invitee:t.invitee,verifyResult:!1},r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+e+"/invite_verify",type:"POST",dataType:"json",data:JSON.stringify(s),headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=t.success||this._utils.emptyfn,r.error=t.error||this._utils.emptyfn,this._utils.ajax(r)}),(0,e.default)(t,"removeSingleGroupMember",function(t){var e=t.groupId,s=t.username,r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+e+"/users/"+s,type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=t.success||this._utils.emptyfn,r.error=t.error||this._utils.emptyfn,this._utils.ajax(r)}),(0,e.default)(t,"removeMultiGroupMember",function(t){var e=t.groupId,s=t.users.join(","),r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+e+"/users/"+s,type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=t.success||this._utils.emptyfn,r.error=t.error||this._utils.emptyfn,this._utils.ajax(r)}),(0,e.default)(t,"mute",function(t){var e=t.groupId,s={usernames:[t.username],mute_duration:t.muteDuration},r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+e+"/mute",dataType:"json",type:"POST",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"},data:JSON.stringify(s)};r.success=t.success||this._utils.emptyfn,r.error=t.error||this._utils.emptyfn,this._utils.ajax(r)}),(0,e.default)(t,"muteChatRoomMember",function(t){var e=t.chatRoomId,s={usernames:[t.username],mute_duration:t.muteDuration},r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatrooms/"+e+"/mute",dataType:"json",type:"POST",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"},data:JSON.stringify(s)};r.success=t.success||this._utils.emptyfn,r.error=t.error||this._utils.emptyfn,this._utils.ajax(r)}),(0,e.default)(t,"removeMute",function(t){var e=t.groupId,s=t.username,r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+e+"/mute/"+s,dataType:"json",type:"DELETE",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=t.success||this._utils.emptyfn,r.error=t.error||this._utils.emptyfn,this._utils.ajax(r)}),(0,e.default)(t,"removeMuteChatRoomMember",function(t){var e=t.chatRoomId,s=t.username,r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatrooms/"+e+"/mute/"+s,dataType:"json",type:"DELETE",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=t.success||this._utils.emptyfn,r.error=t.error||this._utils.emptyfn,this._utils.ajax(r)}),(0,e.default)(t,"getMuted",function(t){var e=t.groupId,s={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+e+"/mute",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};s.success=t.success||this._utils.emptyfn,s.error=t.error||this._utils.emptyfn,this._utils.ajax(s)}),(0,e.default)(t,"getChatRoomMuted",function(t){var e=t.chatRoomId,s={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatrooms/"+e+"/mute",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};s.success=t.success||this._utils.emptyfn,s.error=t.error||this._utils.emptyfn,this._utils.ajax(s)}),(0,e.default)(t,"groupBlockSingle",function(t){var e=t.groupId,s=t.username,r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+e+"/blocks/users/"+s,type:"POST",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=t.success||this._utils.emptyfn,r.error=t.error||this._utils.emptyfn,this._utils.ajax(r)}),(0,e.default)(t,"chatRoomBlockSingle",function(t){var e=t.chatRoomId,s=t.username,r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatrooms/"+e+"/blocks/users/"+s,type:"POST",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=t.success||this._utils.emptyfn,r.error=t.error||this._utils.emptyfn,this._utils.ajax(r)}),(0,e.default)(t,"groupBlockMulti",function(t){var e=t.groupId,s={usernames:t.usernames},r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+e+"/blocks/users",data:JSON.stringify(s),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=t.success||this._utils.emptyfn,r.error=t.error||this._utils.emptyfn,this._utils.ajax(r)}),(0,e.default)(t,"chatRoomBlockMulti",function(t){var e=t.chatRoomId,s={usernames:t.usernames},r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatrooms/"+e+"/blocks/users",data:JSON.stringify(s),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=t.success||this._utils.emptyfn,r.error=t.error||this._utils.emptyfn,this._utils.ajax(r)}),(0,e.default)(t,"removeGroupBlockSingle",function(t){var e=t.groupId,s=t.username,r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+e+"/blocks/users/"+s,type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=t.success||this._utils.emptyfn,r.error=t.error||this._utils.emptyfn,this._utils.ajax(r)}),(0,e.default)(t,"removeChatRoomBlockSingle",function(t){var e=t.chatRoomId,s=t.username,r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatrooms/"+e+"/blocks/users/"+s,type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=t.success||this._utils.emptyfn,r.error=t.error||this._utils.emptyfn,this._utils.ajax(r)}),(0,e.default)(t,"removeGroupBlockMulti",function(t){var e=t.groupId,s=t.usernames.join(","),r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+e+"/blocks/users/"+s,type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=t.success||this._utils.emptyfn,r.error=t.error||this._utils.emptyfn,this._utils.ajax(r)}),(0,e.default)(t,"removeChatRoomBlockMulti",function(t){var e=t.chatRoomId,s=t.usernames.join(","),r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatrooms/"+e+"/blocks/users/"+s,type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=t.success||this._utils.emptyfn,r.error=t.error||this._utils.emptyfn,this._utils.ajax(r)}),(0,e.default)(t,"getGroupBlacklistNew",function(t){var e=t.groupId,s={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+e+"/blocks/users",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};s.success=t.success||this._utils.emptyfn,s.error=t.error||this._utils.emptyfn,this._utils.ajax(s)}),(0,e.default)(t,"getChatRoomBlacklistNew",function(t){var e=t.chatRoomId,s={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatrooms/"+e+"/blocks/users",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};s.success=t.success||this._utils.emptyfn,s.error=t.error||this._utils.emptyfn,this._utils.ajax(s)}),(0,e.default)(t,"disableSendGroupMsg",function(t){var e=t.groupId,s={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+e+"/ban",type:"POST",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};s.success=t.success||this._utils.emptyfn,s.error=t.error||this._utils.emptyfn,this._utils.ajax(s)}),(0,e.default)(t,"disableSendChatRoomMsg",function(t){var e=t.chatRoomId,s={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatrooms/"+e+"/ban",type:"POST",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};s.success=t.success||this._utils.emptyfn,s.error=t.error||this._utils.emptyfn,this._utils.ajax(s)}),(0,e.default)(t,"enableSendGroupMsg",function(t){var e=t.groupId,s={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+e+"/ban",type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};s.success=t.success||this._utils.emptyfn,s.error=t.error||this._utils.emptyfn,this._utils.ajax(s)}),(0,e.default)(t,"enableSendChatRoomMsg",function(t){var e=t.chatRoomId,s={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatrooms/"+e+"/ban",type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};s.success=t.success||this._utils.emptyfn,s.error=t.error||this._utils.emptyfn,this._utils.ajax(s)}),(0,e.default)(t,"addUsersToGroupWhitelist",function(t){var e=t.groupId,s={usernames:t.users},r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+e+"/white/users",type:"POST",data:JSON.stringify(s),dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=t.success||this._utils.emptyfn,r.error=t.error||this._utils.emptyfn,this._utils.ajax(r)}),(0,e.default)(t,"addUsersToChatRoomWhitelist",function(t){var e=t.chatRoomId,s={usernames:t.users},r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatrooms/"+e+"/white/users",type:"POST",data:JSON.stringify(s),dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=t.success||this._utils.emptyfn,r.error=t.error||this._utils.emptyfn,this._utils.ajax(r)}),(0,e.default)(t,"rmUsersFromGroupWhitelist",function(t){var e=t.groupId,s={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+e+"/white/users/"+t.userName,type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};s.success=t.success||this._utils.emptyfn,s.error=t.error||this._utils.emptyfn,this._utils.ajax(s)}),(0,e.default)(t,"rmUsersFromChatRoomWhitelist",function(t){var e=t.chatRoomId,s={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatrooms/"+e+"/white/users/"+t.userName,type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};s.success=t.success||this._utils.emptyfn,s.error=t.error||this._utils.emptyfn,this._utils.ajax(s)}),(0,e.default)(t,"getGroupWhitelist",function(t){var e=t.groupId,s=(t.users,{url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+e+"/white/users",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}});s.success=t.success||this._utils.emptyfn,s.error=t.error||this._utils.emptyfn,this._utils.ajax(s)}),(0,e.default)(t,"getChatRoomWhitelist",function(t){var e=t.chatRoomId,s=(t.users,{url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatrooms/"+e+"/white/users",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}});s.success=t.success||this._utils.emptyfn,s.error=t.error||this._utils.emptyfn,this._utils.ajax(s)}),(0,e.default)(t,"isGroupWhiteUser",function(t){var e=t.groupId,s=(t.users,{url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+e+"/white/users/"+t.userName,type:"GET",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}});s.success=t.success||this._utils.emptyfn,s.error=t.error||this._utils.emptyfn,this._utils.ajax(s)}),(0,e.default)(t,"isChatRoomWhiteUser",function(t){var e=t.chatRoomId,s=(t.users,{url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatrooms/"+e+"/white/users/"+t.userName,type:"GET",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}});s.success=t.success||this._utils.emptyfn,s.error=t.error||this._utils.emptyfn,this._utils.ajax(s)}),(0,e.default)(t,"getGroupMsgReadUser",function(t){var e=this;t=t||{};if(this._utils.isCanSetRequestHeader){var s=t.accessToken||this.token;if(s){var r=e.apiUrl,a=e.context.appName,i=e.context.orgName;if(!a||!i)return void e.onError({type:o.WEBIM_CONNCTION_AUTH_ERROR});var n={url:r+"/"+i+"/"+a+"/chatgroups/"+t.groupId+"/acks/"+t.msgId,dataType:"json",type:"GET",data:{limit:500,key:void 0},headers:{Authorization:"Bearer "+s},success:function(e){"function"==typeof t.success&&t.success(e)}||this._utils.emptyfn,error:function(e){"function"==typeof t.error&&t.error(e)}||this._utils.emptyfn};this._utils.ajax(n)}else e.onError({type:o.WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR})}else conn.onError({type:o.WEBIM_CONNCTION_NOT_SUPPORT_CHATROOM_ERROR})}),(0,e.default)(t,"getBlacklist",function(t){var e=this;t=t||{};if(this._utils.isCanSetRequestHeader){var s=this,r=t.accessToken||this.token;if(r){var a=t.apiUrl||this.apiUrl,i=this.context.appName,n=this.context.orgName;if(!i||!n)return void s.onError({type:o.WEBIM_CONNCTION_AUTH_ERROR});var u={url:a+"/"+n+"/"+i+"/users/"+this.user+"/blocks/users",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+r},success:function(s,r){var a={};s.data.forEach(function(t,e){a[t]={name:t}}),e.onBlacklistUpdate(a),"function"==typeof t.success&&t.success(s)}||this._utils.emptyfn,error:function(s,r,a){e.onBlacklistUpdate([]),"function"==typeof t.error&&t.error(s)}||this._utils.emptyfn};this._utils.ajax(u)}else s.onError({type:o.WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR})}else s.onError({type:o.WEBIM_CONNCTION_NOT_SUPPORT_CHATROOM_ERROR})}),(0,e.default)(t,"getRoster",function(t){t=t||{};var e=this;if(this._utils.isCanSetRequestHeader){var s=this,r=t.accessToken||this.token;if(r){var a=t.apiUrl||this.apiUrl,i=this.context.appName,n=this.context.orgName;if(!i||!n)return void s.onError({type:o.WEBIM_CONNCTION_AUTH_ERROR});var u={url:a+"/"+n+"/"+i+"/users/"+this.user+"/contacts/users",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+r},success:function(s,r){var a=[];s.data.forEach(function(t,s){a.push({name:t,subscription:"both",jid:e.context.jid})}),"function"==typeof t.success&&t.success(a),e.onRoster&&e.onRoster(a)}||this._utils.emptyfn,error:function(e,s,r){"function"==typeof t.error&&t.error(e)}||this._utils.emptyfn};this._utils.ajax(u)}else s.onError({type:o.WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR})}else s.onError({type:o.WEBIM_CONNCTION_NOT_SUPPORT_CHATROOM_ERROR})}),(0,e.default)(t,"fetchGroupAnnouncement",function(t){var e=t.apiUrl||this.apiUrl,s=this.context.appName,r=this.context.orgName,a=t.groupId,i={url:"".concat(e,"/").concat(r,"/").concat(s,"/chatgroups/").concat(a,"/announcement"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};i.success=t.success||this._utils.emptyfn,i.error=t.error||this._utils.emptyfn,this._utils.ajax(i)}),(0,e.default)(t,"fetchChatRoomAnnouncement",function(t){var e=t.apiUrl||this.apiUrl,s=this.context.appName,r=this.context.orgName,a=t.roomId,i={url:"".concat(e,"/").concat(r,"/").concat(s,"/chatrooms/").concat(a,"/announcement"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};i.success=t.success||this._utils.emptyfn,i.error=t.error||this._utils.emptyfn,this._utils.ajax(i)}),(0,e.default)(t,"updateGroupAnnouncement",function(t){var e=t.apiUrl||this.apiUrl,s=this.context.appName,r=this.context.orgName,a=t.groupId,i={announcement:t.announcement},o={url:"".concat(e,"/").concat(r,"/").concat(s,"/chatgroups/").concat(a,"/announcement"),type:"POST",dataType:"json",data:JSON.stringify(i),headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};o.success=t.success||this._utils.emptyfn,o.error=t.error||this._utils.emptyfn,this._utils.ajax(o)}),(0,e.default)(t,"updateChatRoomAnnouncement",function(t){var e=t.apiUrl||this.apiUrl,s=this.context.appName,r=this.context.orgName,a=t.roomId,i={announcement:t.announcement},o={url:"".concat(e,"/").concat(r,"/").concat(s,"/chatrooms/").concat(a,"/announcement"),type:"POST",dataType:"json",data:JSON.stringify(i),headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};o.success=t.success||this._utils.emptyfn,o.error=t.error||this._utils.emptyfn,this._utils.ajax(o)}),(0,e.default)(t,"uploadGroupSharedFile",function(t){var e=t.apiUrl||this.apiUrl,s=this.context.appName,r=this.context.orgName,a=t.groupId;this._utils.uploadFile({uploadUrl:"".concat(e,"/").concat(r,"/").concat(s,"/chatgroups/").concat(a,"/share_files"),onFileUploadProgress:t.onFileUploadProgress,onFileUploadComplete:t.onFileUploadComplete,onFileUploadError:t.onFileUploadError,onFileUploadCanceled:t.onFileUploadCanceled,accessToken:this.token,apiUrl:e,file:t.file,appKey:this.context.appKey})}),(0,e.default)(t,"uploadChatRoomSharedFile",function(t){var e=t.apiUrl||this.apiUrl,s=this.context.appName,r=this.context.orgName,a=t.roomId;this._utils.uploadFile({uploadUrl:"".concat(e,"/").concat(r,"/").concat(s,"/chatrooms/").concat(a,"/share_files"),onFileUploadProgress:t.onFileUploadProgress,onFileUploadComplete:t.onFileUploadComplete,onFileUploadError:t.onFileUploadError,onFileUploadCanceled:t.onFileUploadCanceled,accessToken:this.token,apiUrl:e,file:t.file,appKey:this.context.appKey})}),(0,e.default)(t,"deleteGroupSharedFile",function(t){var e=t.apiUrl||this.apiUrl,s=this.context.appName,r=this.context.orgName,a=t.groupId,i=t.fileId,o={url:"".concat(e,"/").concat(r,"/").concat(s,"/chatgroups/").concat(a,"/share_files/").concat(i),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};o.success=t.success||this._utils.emptyfn,o.error=t.error||this._utils.emptyfn,this._utils.ajax(o)}),(0,e.default)(t,"deleteChatRoomSharedFile",function(t){var e=t.apiUrl||this.apiUrl,s=this.context.appName,r=this.context.orgName,a=t.roomId,i=t.fileId,o={url:"".concat(e,"/").concat(r,"/").concat(s,"/chatrooms/").concat(a,"/share_files/").concat(i),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};o.success=t.success||this._utils.emptyfn,o.error=t.error||this._utils.emptyfn,this._utils.ajax(o)}),(0,e.default)(t,"downloadGroupSharedFile",function(t){var e=t.apiUrl||this.apiUrl,s=this.context.appName,r=this.context.orgName,a=t.groupId,i=t.fileId;this._utils.download.call(this,{url:"".concat(e,"/").concat(r,"/").concat(s,"/chatgroups/").concat(a,"/share_files/").concat(i),onFileDownloadComplete:t.onFileDownloadComplete,onFileDownloadError:t.onFileDownloadError,accessToken:this.token,id:i,secret:""})}),(0,e.default)(t,"downloadChatRoomSharedFile",function(t){var e=t.apiUrl||this.apiUrl,s=this.context.appName,r=this.context.orgName,a=t.roomId,i=t.fileId;this._utils.download.call(this,{url:"".concat(e,"/").concat(r,"/").concat(s,"/chatrooms/").concat(a,"/share_files/").concat(i),onFileDownloadComplete:t.onFileDownloadComplete,onFileDownloadError:t.onFileDownloadError,accessToken:this.token,id:i,secret:""})}),(0,e.default)(t,"fetchGroupSharedFileList",function(t){var e=t.apiUrl||this.apiUrl,s=this.context.appName,r=this.context.orgName,a=t.groupId,i={url:"".concat(e,"/").concat(r,"/").concat(s,"/chatgroups/").concat(a,"/share_files"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};i.success=t.success||this._utils.emptyfn,i.error=t.error||this._utils.emptyfn,this._utils.ajax(i)}),(0,e.default)(t,"fetchChatRoomSharedFileList",function(t){var e=t.apiUrl||this.apiUrl,s=this.context.appName,r=this.context.orgName,a=t.roomId,i={url:"".concat(e,"/").concat(r,"/").concat(s,"/chatrooms/").concat(a,"/share_files"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};i.success=t.success||this._utils.emptyfn,i.error=t.error||this._utils.emptyfn,this._utils.ajax(i)}),t),u=n;exports.default=u;
},{"@babel/runtime/helpers/defineProperty":"xwXl","./chat/handleChatMessage":"TvlR","./status":"KLYY","Base64":"wTgU"}],"h12o":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=h(require("./status")),t=h(require("./message")),s=h(require("./queue")),o=h(require("./chat/sendChatMessage")),n=h(require("./chat/handleChatMessage")),i=h(require("./muc/HandleMucMessage")),r=h(require("./roster/HandleRosterMessage")),a=h(require("./statistics/HandleStatisticsMessage")),p=h(require("long")),c=h(require("./restApis"));function h(e){return e&&e.__esModule?e:{default:e}}var u,l,d={},y=(0,e.default)(),m=100,g=[],f={CLOSED:3,CLOSING:2,CONNECTING:0,OPEN:1},N=function(){},I=function(e,t){if(""==(e=e||{}).user)return t.onError({type:y.WEBIM_CONNCTION_USER_NOT_ASSIGN_ERROR}),!1;var s=e.user+""||"",o=e.appKey||"",n=o.split("#");if(2!==n.length)return t.onError({type:y.WEBIM_CONNCTION_APPKEY_NOT_ASSIGN_ERROR}),!1;var i=n[0],r=n[1];return i&&r?(t.context.jid={appKey:o,name:s,domain:t.domain,clientResource:t.clientResource},t.context.root=u,t.context.userId=s,t.context.appKey=o,t.context.appName=r,t.context.orgName=i,!0):(t.onError({type:y.WEBIM_CONNCTION_APPKEY_NOT_ASSIGN_ERROR}),!1)},v=function e(t){if(!this instanceof e)return new e(t);t=t||{};this.isDebug=t.isDebug||!1,this.isHttpDNS=t.isHttpDNS||!1,this.isMultiLoginSessions=t.isMultiLoginSessions||!1,this.wait=t.wait||30,this.retry=t.retry||!1,this.https=t.https&&"https:"===location.protocol,this.url=t.url,this.hold=t.hold||1,this.route=t.route||null,this.inactivity=t.inactivity||30,this.heartBeatWait=t.heartBeatWait||4500,this.maxRetries=t.maxRetries||5,this.isAutoLogin=!1!==t.isAutoLogin,this.pollingTime=t.pollingTime||800,this.stropheConn=!1,this.autoReconnectNumMax=t.autoReconnectNumMax||0,this.autoReconnectNumTotal=0,this.autoReconnectInterval=t.autoReconnectInterval||0,this.context={status:y.STATUS_INIT},this.sendQueue=new s.default,this.intervalId=null,this.apiUrl=t.apiUrl||"",this.isWindowSDK=t.isWindowSDK||!1,this.encrypt=t.encrypt||{encrypt:{type:"none"}},this.delivery=t.delivery||!1,this.appKey=t.appKey||"",this.domain=t.domain||"easemob.com",this.clientResource="84ff3eba1",this.user="",this.orgName="",this.appName="",this.token="",this.unSendMsgArr=[],this.dnsArr=["https://rs.easemob.com","http://182.92.174.78","http://112.126.66.111"],this.dnsIndex=0,this.dnsTotal=this.dnsArr.length,this.restHosts=[],this.restIndex=0,this.restTotal=0,this.xmppHosts=[],this.xmppIndex=0,this.xmppTotal=0,this.groupOption={},this.version=t.version||"3.0.0",this.compressAlgorimth=t.compressAlgorimth||0,this.userAgent=t.userAgent||0,this.pov=t.pov||0,this.command=t.command||3,this.deviceId=t.deviceId||"webim",this.encryptKey=t.encryptKey||"",this.firstPayload=t.firstPayload||[],this.compressType=t.compressType||[0],this.encryptType=t.encryptType||[0],this.osType=16};v.prototype.registerUser=function(e){this.isHttpDNS?(this.dnsIndex=0,this.getHttpDNS(e,"signup")):this.signup(e)},v.prototype.listen=function(e){this.onOpened=e.onOpened||N,this.onClosed=e.onClosed||N,this.onTextMessage=e.onTextMessage||N,this.onEmojiMessage=e.onEmojiMessage||N,this.onPictureMessage=e.onPictureMessage||N,this.onAudioMessage=e.onAudioMessage||N,this.onVideoMessage=e.onVideoMessage||N,this.onFileMessage=e.onFileMessage||N,this.onLocationMessage=e.onLocationMessage||N,this.onCustomMessage=e.onCustomMessage||N,this.onCmdMessage=e.onCmdMessage||N,this.onStatisticMessage=e.onStatisticMessage||N,this.onPresence=e.onPresence||N,this.onRoster=e.onRoster||N,this.onError=e.onError||N,this.onReceivedMessage=e.onReceivedMessage||N,this.onInviteMessage=e.onInviteMessage||N,this.onDeliverdMessage=e.onDeliveredMessage||N,this.onReadMessage=e.onReadMessage||N,this.onRecallMessage=e.onRecallMessage||N,this.onMutedMessage=e.onMutedMessage||N,this.onOffline=e.onOffline||N,this.onOnline=e.onOnline||N,this.onConfirmPop=e.onConfirmPop||N,this.onCreateGroup=e.onCreateGroup||N,this.onUpdateMyGroupList=e.onUpdateMyGroupList||N,this.onUpdateMyRoster=e.onUpdateMyRoster||N,this.onBlacklistUpdate=e.onBlacklistUpdate||N,l._listenNetwork(this.onOnline,this.onOffline)},v.prototype.getParams=function(e){u=e.root,l=e.utils,v.prototype._utils=l,d.utils=l,d.statusCode=y,d.message=t.default,d.message.prototype._utils=l},v.prototype._msgHash={},v.prototype._queues=[],v.prototype._lastsession=function(e,t,s){var o=[],n=u.lookup("easemob.pb.CommSyncUL"),i=n.decode(o);i.queue=t,i.key=new p.default(e.low,e.high,e.unsigned).toString(),s.isDebug&&console.log("上行_lastsession: ",i),i=n.encode(i).finish();var r=u.lookup("easemob.pb.MSync"),a=r.decode(o);if(a.version=s.version,a.encryptType=s.encryptType,a.command=0,a.payload=i,a=r.encode(a).finish(),s.sock.readyState!==f.OPEN){var c={type:y.WEBIM_CONNCTION_DISCONNECTED};s.onError(c)}else s._base64transform(a,s)},v.prototype._metapayload=function(e,t,s){for(var o=0;o<e.length;o++){var c=new p.default(e[o].id.low,e[o].id.high,e[o].id.unsigned).toString();g.indexOf(c)<0&&(s.isDebug&&console.log("下行meta：",e[o]),1===e[o].ns?(0,n.default)(e[o],t,s):2===e[o].ns?(0,i.default)(e[o],t,s):3===e[o].ns?r.default.handleMessage(e[o],t,s):0===e[o].ns?(0,a.default)(e[o],t,s):4===e[o].ns&&s.registerConfrIQHandler&&s.registerConfrIQHandler(e[o],t,s),g.length<=m?g.push(c):(g.shift(),g.push(c)))}},v.prototype._rebuild=function(){var e=[],t=u.lookup("easemob.pb.StatisticsBody"),s=t.decode(e);s.operation=0,s=t.encode(s).finish();var o=u.lookup("easemob.pb.Meta").decode(e);o.id=(new Date).valueOf(),o.ns=0,o.payload=s;var n=u.lookup("easemob.pb.CommSyncUL"),i=n.decode(e);i.meta=o,this.isDebug&&console.log("上行rebuild: ",o),i=n.encode(i).finish();var r=u.lookup("easemob.pb.MSync"),a=r.decode(e);a.version="3.0.8",a.encryptType=[0],a.command=0,a.payload=i,a=r.encode(a).finish(),this._base64transform(a,this)},v.prototype._backqueue=function(e,t){var s=[],o=u.lookup("easemob.pb.CommSyncUL"),n=o.decode(s);n.queue=e,t.isDebug&&console.log("上行queue: ",n),n=o.encode(n).finish();var i=u.lookup("easemob.pb.MSync"),r=i.decode(s);r.version=t.version,r.encryptType=t.encryptType,r.command=0,r.payload=n,r=i.encode(r).finish(),t._base64transform(r,t)};var T=function(e){var t=u.lookup("easemob.pb.MSync"),s=t.decode([]);s.version=e.version,s.encryptType=e.encryptType,s.command=1,e.isDebug&&console.log("上行unreadDeal: ",s),s=t.encode(s).finish(),e._base64transform(s,e)};v.prototype._receiveProvision=function(e,t){var s=u.lookup("easemob.pb.Provision").decode(e.payload);t.context.jid.clientResource=s.resource,0==s.status.errorCode&&(T(t),t._rebuild(t))},v.prototype.heartBeatID=0,v.prototype.heartBeat=function(e){this.stopHeartBeat(),this.heartBeatID=setInterval(function(){T(e)},this.heartBeatWait)},v.prototype.stopHeartBeat=function(){clearInterval(this.heartBeatID)},v.prototype.getRestFromHttpDNS=function(e,t){if(!(this.restIndex>this.restTotal)){var s="",o=this.restHosts[this.restIndex],n=o.domain,i=o.ip;if(i&&"http:"==location.protocol){var r=o.port;s=("https:"===location.protocol?"https:":"http:")+"//"+i+":"+r}else s=("https:"===location.protocol?"https:":"http:")+"//"+n;""!=s&&(this.apiUrl=s,e.apiUrl=s),"login"==t?this.login(e):this.signup(e)}},v.prototype.getHttpDNS=function(e,t){var s=this,o={url:this.dnsArr[this.dnsIndex]+"/easemob/server.json",dataType:"json",type:"GET",data:{app_key:encodeURIComponent(e.appKey||this.appKey)},success:function(o,n){var i=o.rest.hosts;if(i){for(var r=s.https?"https":"http",a=i.filter(function(e,t){if(e.protocol==r)return e}),p=0;p<a.length;p++)if(a[p].protocol===r){var c=a[p];a.splice(p,1),a.unshift(c)}s.restHosts=a,s.restTotal=a.length;try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType}catch(l){}var h=o["msync-ws"].hosts;if(h){var u=h.filter(function(e,t){if(e.protocol==r)return e});for(p=0;p<u.length;p++)u[p].protocol===r&&(c=u[p],u.splice(p,1),u.unshift(c));s.xmppHosts=u,s.xmppTotal=u.length,s.getRestFromHttpDNS(e,t)}}}||N,error:function(o,n,i){console.log("getHttpDNS error",o,i),s.dnsIndex++,s.dnsIndex<s.dnsTotal&&s.getHttpDNS(e,t)}||N};l.ajax(o)},v.prototype.signup=function(e){var t=this,s=e.orgName||"",o=e.appName||"",n=e.appKey||this.appKey,i=e.success||N,r=e.error||N;if(!s&&!o&&n){var a=n.split("#");2===a.length&&(s=a[0],o=a[1])}if(s||o){e.https||this.https;var p=(e.apiUrl||this.apiUrl)+"/"+s+"/"+o+"/users",c={username:e.username,password:e.password,nickname:e.nickname||""},h={url:p,dataType:"json",data:l.stringify(c),success:i,error:function(s,o,n){if(t.isHttpDNS&&t.restIndex+1<t.restTotal)return t.restIndex++,void t.getRestFromHttpDNS(e,"signup");t.clear(),r(s)}};l.ajax(h)}else r({type:y.WEBIM_CONNCTION_APPKEY_NOT_ASSIGN_ERROR})},v.prototype.open=function(e){var t=e.appKey,s=t.split("#")[0],o=t.split("#")[1];this.orgName=s,this.appName=o,e.accessToken&&(this.token=e.accessToken),this.isHttpDNS?(this.dnsIndex=0,this.getHttpDNS(e,"login")):this.login(e)},v.prototype.login=function(e){if(this.user=e.user,I(e,this)){var t=this;if(!t.isOpened())if(e.accessToken)e.access_token=e.accessToken,this._login(e,t);else{var s=e.apiUrl,o=this.context.userId,n=e.pwd||"",i=this.context.appName,r=this.context.orgName,a={grant_type:"password",username:o,password:n,timestamp:+new Date},p={headers:{"Content-type":"application/json"},url:s+"/"+r+"/"+i+"/token",dataType:"json",data:l.stringify(a),success:function(s,o){e.success&&e.success(s),t.token=s.access_token,t.context.restTokenData=s.access_token,t._login(s,t)}||N,error:function(s,o,n){if(e.error&&e.error(),t.isHttpDNS&&t.restIndex+1<t.restTotal)return t.restIndex++,void t.getRestFromHttpDNS(e,"login");t.clear(),s.error&&s.error_description?t.onError({type:y.WEBIM_CONNCTION_OPEN_USERGRID_ERROR,data:s,xhr:o}):t.onError({type:y.WEBIM_CONNCTION_OPEN_ERROR,data:s,xhr:o})}||N};l.ajax(p)}}},v.prototype.close=function(e){this.logOut=!0,this.context.status=y.STATUS_CLOSING,this.sock.close(),this.stopHeartBeat(),this.context.status=y.STATUS_CLOSING},v.prototype.recallMessage=function(e){var t={id:this.getUniqueId(),type:"recall",group:e.type,ackId:e.mid,to:e.to,success:e.success,fail:e.fail};this.send(t,this)},v.prototype.sendMSync=function(e){if(this.sock.readyState===f.OPEN)return this._base64transform(e,this);this.unSendMsgArr.push(this._base64transform(e,this,!0)),!this.logOut&&this.autoReconnectNumTotal<this.autoReconnectNumMax&&(this.autoReconnectNumTotal<=this.xmppHosts.length&&this.isHttpDNS||!this.isHttpDNS)&&(this.offLineSendConnecting=!0,this.reconnect()),this.onError({type:y.WEBIM_CONNCTION_DISCONNECTED,reconnect:!0})},v.prototype.getUniqueId=function(e){this.autoIncrement?this.autoIncrement++:this.autoIncrement=1;var t=new Date,s=new Date(2010,1,1);return t.getTime()-s.getTime()+this.autoIncrement},v.prototype.send=function(e){(0,o.default)(e,this,l),this._msgHash[e.id]=e},v.prototype.removeRoster=function(e){r.default.operatRoster(e,"remove",this)},v.prototype.subscribe=function(e){r.default.operatRoster(e,"add",this)},v.prototype.subscribed=function(e){r.default.operatRoster(e,"accept",this)},v.prototype.unsubscribed=function(e){r.default.operatRoster(e,"decline",this)},v.prototype.isOpened=function(){return this.sock&&this.sock.readyState===f.OPEN},v.prototype.clear=function(){var e=this.context.appKey;if(this.errorType!=y.WEBIM_CONNCTION_DISCONNECTED&&this.logOut&&(this.unSendMsgArr=[],this.offLineSendConnecting=!1,this.context={status:y.STATUS_INIT,appKey:e}),this.intervalId&&clearInterval(this.intervalId),this.restIndex=0,this.xmppIndex=0,this.errorType==y.WEBIM_CONNCTION_CLIENT_LOGOUT||-1==this.errorType){var t={data:{data:"logout"},type:y.WEBIM_CONNCTION_CLIENT_LOGOUT};this.onError(t)}},v.prototype.autoReconnectInterval=0,v.prototype.times=1,v.prototype.reconnect=function(e){var t=this;t.xmppIndex<t.xmppHosts.length-1&&t.xmppIndex++,setTimeout(function(){t._login({access_token:t.context.accessToken},t),t.autoReconnectInterval+=t.times*t.times,t.times++},1e3*(0==this.autoReconnectNumTotal?0:t.autoReconnectInterval)),this.autoReconnectNumTotal++},v.prototype.closed=function(){var e={data:{data:"Closed error"},type:y.WEBIM_CONNECTION_CLOSED};this.onError(e),this.stopHeartBeat()},v.prototype.addToBlackList=function(e){r.default.operatRoster({to:e.name},"ban",this)},v.prototype.removeFromBlackList=function(e){r.default.operatRoster({to:e.name},"allow",this)},Object.assign(v.prototype,c.default),d.connection=v,d.doQuery=function(e,t,s){void 0!==window.cefQuery&&window.cefQuery({request:e,persistent:!1,onSuccess:t,onFailure:s})},module.hot&&module.hot.accept(),d.debug=function(e){};var _=d;exports.default=_;
},{"./status":"KLYY","./message":"KTph","./queue":"RCHR","./chat/sendChatMessage":"Aofe","./chat/handleChatMessage":"TvlR","./muc/HandleMucMessage":"wnFo","./roster/HandleRosterMessage":"UOYe","./statistics/HandleStatisticsMessage":"pE/p","long":"YA3p","./restApis":"np0Q"}],"G7Dp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(){return{nested:{easemob:{nested:{pb:{nested:{MessageBody:{fields:{type:{type:"Type",id:1},from:{type:"JID",id:2},to:{type:"JID",id:3},contents:{rule:"repeated",type:"Content",id:4},ext:{rule:"repeated",type:"KeyValue",id:5},ackMessageId:{type:"uint64",id:6},msgConfig:{type:"MessageConfig",id:7},ackContent:{type:"string",id:8}},nested:{Content:{fields:{type:{type:"Type",id:1},text:{type:"string",id:2},latitude:{type:"double",id:3},longitude:{type:"double",id:4},address:{type:"string",id:5},displayName:{type:"string",id:6},remotePath:{type:"string",id:7},secretKey:{type:"string",id:8},fileLength:{type:"int32",id:9},action:{type:"string",id:10},params:{rule:"repeated",type:"KeyValue",id:11},duration:{type:"int32",id:12},size:{type:"Size",id:13},thumbnailRemotePath:{type:"string",id:14},thumbnailSecretKey:{type:"string",id:15},thumbnailDisplayName:{type:"string",id:16},thumbnailFileLength:{type:"int32",id:17},thumbnailSize:{type:"Size",id:18},customEvent:{type:"string",id:19},customExts:{rule:"repeated",type:"KeyValue",id:20}},nested:{Type:{values:{TEXT:0,IMAGE:1,VIDEO:2,LOCATION:3,VOICE:4,FILE:5,COMMAND:6,CUSTOM:7}},Size:{fields:{width:{type:"double",id:1},height:{type:"double",id:2}}}}},Type:{values:{NORMAL:0,CHAT:1,GROUPCHAT:2,CHATROOM:3,READ_ACK:4,DELIVER_ACK:5,RECALL:6}},MessageConfig:{fields:{allowGroupAck:{type:"bool",id:1}}}}},KeyValue:{oneofs:{value:{oneof:["varintValue","floatValue","doubleValue","stringValue"]}},fields:{key:{type:"string",id:1},type:{type:"ValueType",id:2},varintValue:{type:"int64",id:3},floatValue:{type:"float",id:4},doubleValue:{type:"double",id:5},stringValue:{type:"string",id:6}},nested:{ValueType:{values:{BOOL:1,INT:2,UINT:3,LLINT:4,FLOAT:5,DOUBLE:6,STRING:7,JSON_STRING:8}}}},JID:{fields:{appKey:{type:"string",id:1},name:{type:"string",id:2},domain:{type:"string",id:3},clientResource:{type:"string",id:4}}},ConferenceBody:{fields:{sessionId:{type:"string",id:1},operation:{type:"Operation",id:2},conferenceId:{type:"string",id:3},type:{type:"Type",id:4},content:{type:"string",id:5},network:{type:"string",id:6},version:{type:"string",id:7},identity:{type:"Identity",id:8},duration:{type:"string",id:9},peerName:{type:"string",id:10},endReason:{type:"EndReason",id:11},status:{type:"Status",id:12},isDirect:{type:"bool",id:13},controlType:{type:"StreamControlType",id:14},routeFlag:{type:"int32",id:15},routeKey:{type:"string",id:16}},nested:{Status:{fields:{errorCode:{type:"int32",id:1}}},Operation:{values:{JOIN:0,INITIATE:1,ACCEPT_INITIATE:2,ANSWER:3,TERMINATE:4,REMOVE:5,STREAM_CONTROL:6,MEDIA_REQUEST:7}},Type:{values:{VOICE:0,VIDEO:1}},Identity:{values:{CALLER:0,CALLEE:1}},EndReason:{values:{HANGUP:0,NORESPONSE:1,REJECT:2,BUSY:3,FAIL:4,UNSUPPORTED:5,OFFLINE:6}},StreamControlType:{values:{PAUSE_VOICE:0,RESUME_VOICE:1,PAUSE_VIDEO:2,RESUME_VIDEO:3}}}},MSync:{fields:{version:{type:"Version",id:1,options:{default:"MSYNC_V1"}},guid:{type:"JID",id:2},auth:{type:"string",id:3},compressAlgorimth:{type:"uint32",id:4},crypto:{type:"uint32",id:5},userAgent:{type:"string",id:6},pov:{type:"uint64",id:7},command:{type:"Command",id:8},deviceId:{type:"uint32",id:10},encryptType:{rule:"repeated",type:"EncryptType",id:11,options:{packed:!1}},encryptKey:{type:"string",id:12},payload:{type:"bytes",id:9}},nested:{Version:{values:{MSYNC_V1:0,MSYNC_V2:1}},Command:{values:{SYNC:0,UNREAD:1,NOTICE:2,PROVISION:3}}}},EncryptType:{values:{ENCRYPT_NONE:0,ENCRYPT_AES_128_CBC:1,ENCRYPT_AES_256_CBC:2}},CommSyncUL:{fields:{meta:{type:"Meta",id:1},key:{type:"uint64",id:2},queue:{type:"JID",id:3},isRoam:{type:"bool",id:4},lastFullRoamKey:{type:"uint64",id:5}}},CommSyncDL:{fields:{status:{type:"Status",id:1},metaId:{type:"uint64",id:2},serverId:{type:"uint64",id:3},metas:{rule:"repeated",type:"Meta",id:4},nextKey:{type:"uint64",id:5},queue:{type:"JID",id:6},isLast:{type:"bool",id:7},timestamp:{type:"uint64",id:8},isRoam:{type:"bool",id:9}}},CommNotice:{fields:{queue:{type:"JID",id:1}}},CommUnreadUL:{fields:{}},CommUnreadDL:{fields:{status:{type:"Status",id:1},unread:{rule:"repeated",type:"MetaQueue",id:2},timestamp:{type:"uint64",id:3}}},MetaQueue:{fields:{queue:{type:"JID",id:1},n:{type:"uint32",id:2}}},Meta:{fields:{id:{type:"uint64",id:1},from:{type:"JID",id:2},to:{type:"JID",id:3},timestamp:{type:"uint64",id:4},ns:{type:"NameSpace",id:5},payload:{type:"bytes",id:6},routetype:{type:"RouteType",id:7}},nested:{NameSpace:{values:{STATISTIC:0,CHAT:1,MUC:2,ROSTER:3,CONFERENCE:4}},RouteType:{values:{ROUTE_ALL:0,ROUTE_ONLINE:1}}}},Status:{fields:{errorCode:{type:"ErrorCode",id:1},reason:{type:"string",id:2},redirectInfo:{rule:"repeated",type:"RedirectInfo",id:3}},nested:{ErrorCode:{values:{OK:0,FAIL:1,UNAUTHORIZED:2,MISSING_PARAMETER:3,WRONG_PARAMETER:4,REDIRECT:5,TOKEN_EXPIRED:6,PERMISSION_DENIED:7,NO_ROUTE:8,UNKNOWN_COMMAND:9,PB_PARSER_ERROR:10,BIND_ANOTHER_DEVICE:11,IM_FORBIDDEN:12,TOO_MANY_DEVICES:13,PLATFORM_LIMIT:14,USER_MUTED:15,ENCRYPT_DISABLE:16,ENCRYPT_ENABLE:17,DECRYPT_FAILURE:18}}}},RedirectInfo:{fields:{host:{type:"string",id:1},port:{type:"uint32",id:2}}},Provision:{fields:{osType:{type:"OsType",id:1},version:{type:"string",id:2},networkType:{type:"NetworkType",id:3},appSign:{type:"string",id:4},compressType:{rule:"repeated",type:"CompressType",id:5,options:{packed:!1}},encryptType:{rule:"repeated",type:"EncryptType",id:6,options:{packed:!1}},encryptKey:{type:"string",id:7},status:{type:"Status",id:8},deviceUuid:{type:"string",id:9},isManualLogin:{type:"bool",id:10},password:{type:"string",id:11},deviceName:{type:"string",id:12},resource:{type:"string",id:13},auth:{type:"string",id:14}},nested:{OsType:{values:{OS_IOS:0,OS_ANDROID:1,OS_LINUX:2,OS_OSX:3,OS_WIN:4,OS_OTHER:16}},NetworkType:{values:{NETWORK_NONE:0,NETWORK_WIFI:1,NETWORK_4G:2,NETWORK_3G:3,NETWORK_2G:4,NETWORK_WIRE:5}},CompressType:{values:{COMPRESS_NONE:0,COMPRESS_ZLIB:1}}}},MUCBody:{fields:{mucId:{type:"JID",id:1},operation:{type:"Operation",id:2},from:{type:"JID",id:3},to:{rule:"repeated",type:"JID",id:4},setting:{type:"Setting",id:5},reason:{type:"string",id:6},isChatroom:{type:"bool",id:7},status:{type:"Status",id:8}},nested:{Operation:{values:{CREATE:0,DESTROY:1,JOIN:2,LEAVE:3,APPLY:4,APPLY_ACCEPT:5,APPLY_DECLINE:6,INVITE:7,INVITE_ACCEPT:8,INVITE_DECLINE:9,KICK:10,GET_BLACKLIST:11,BAN:12,ALLOW:13,UPDATE:14,BLOCK:15,UNBLOCK:16,PRESENCE:17,ABSENCE:18,DIRECT_JOINED:19,ASSIGN_OWNER:20,ADD_ADMIN:21,REMOVE_ADMIN:22,ADD_MUTE:23,REMOVE_MUTE:24,UPDATE_ANNOUNCEMENT:25,DELETE_ANNOUNCEMENT:26,UPLOAD_FILE:27,DELETE_FILE:28,ADD_USER_WHITE_LIST:29,REMOVE_USER_WHITE_LIST:30,BAN_GROUP:31,REMOVE_BAN_GROUP:32}},Setting:{fields:{name:{type:"string",id:1},desc:{type:"string",id:2},type:{type:"Type",id:3},maxUsers:{type:"int32",id:4},owner:{type:"string",id:5}},nested:{Type:{values:{PRIVATE_OWNER_INVITE:0,PRIVATE_MEMBER_INVITE:1,PUBLIC_JOIN_APPROVAL:2,PUBLIC_JOIN_OPEN:3,PUBLIC_ANONYMOUS:4}}}},Status:{fields:{errorCode:{type:"ErrorCode",id:1},description:{type:"string",id:2}},nested:{ErrorCode:{values:{OK:0,PERMISSION_DENIED:1,WRONG_PARAMETER:2,MUC_NOT_EXIST:3,USER_NOT_EXIST:4,UNKNOWN:5}}}}}},RosterBody:{fields:{operation:{type:"Operation",id:1},status:{type:"Status",id:2},from:{type:"JID",id:3},to:{rule:"repeated",type:"JID",id:4},reason:{type:"string",id:5},rosterVer:{type:"string",id:6},biDirection:{type:"bool",id:7}},nested:{Operation:{values:{GET_ROSTER:0,GET_BLACKLIST:1,ADD:2,REMOVE:3,ACCEPT:4,DECLINE:5,BAN:6,ALLOW:7,REMOTE_ACCEPT:8,REMOTE_DECLINE:9}},Status:{fields:{errorCode:{type:"ErrorCode",id:1},description:{type:"string",id:2}},nested:{ErrorCode:{values:{OK:0,USER_NOT_EXIST:1,USER_ALREADY_FRIEND:2,USER_ALREADY_BLACKLIST:3}}}}}},StatisticsBody:{fields:{operation:{type:"Operation",id:1},os:{type:"OsType",id:2},version:{type:"string",id:3},network:{type:"NetworkType",id:4},imTime:{type:"uint32",id:5},chatTime:{type:"uint32",id:6},location:{type:"string",id:7}},nested:{Operation:{values:{INFORMATION:0,USER_REMOVED:1,USER_LOGIN_ANOTHER_DEVICE:2,USER_KICKED_BY_CHANGE_PASSWORD:3,USER_KICKED_BY_OTHER_DEVICE:4}},OsType:{values:{OS_IOS:0,OS_ANDROID:1,OS_LINUX:2,OS_OSX:3,OS_WIN:4,OS_OTHER:16}},NetworkType:{values:{NETWORK_NONE:0,NETWORK_WIFI:1,NETWORK_4G:2,NETWORK_3G:3,NETWORK_2G:4,NETWORK_WIRE:5}}}}}}}}}}},t=e;exports.default=t;
},{}],"Inpi":[function(require,module,exports) {
module.exports={};
},{}],"n7JO":[function(require,module,exports) {
module.exports=i;var t=require("./util");function i(t,i){this.lo=t>>>0,this.hi=i>>>0}var o=i.zero=new i(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var r=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(t){if(0===t)return o;var r=t<0;r&&(t=-t);var h=t>>>0,n=(t-h)/4294967296>>>0;return r&&(n=~n>>>0,h=~h>>>0,++h>4294967295&&(h=0,++n>4294967295&&(n=0))),new i(h,n)},i.from=function(r){if("number"==typeof r)return i.fromNumber(r);if("string"==typeof r||r instanceof String){if(!t.Long)return i.fromNumber(parseInt(r,10));r=t.Long.fromString(r)}return r.low||r.high?new i(r.low>>>0,r.high>>>0):o},i.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var i=1+~this.lo>>>0,o=~this.hi>>>0;return i||(o=o+1>>>0),-(i+4294967296*o)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(i){return t.Long?new t.Long(0|this.lo,0|this.hi,Boolean(i)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(i)}};var h=String.prototype.charCodeAt;i.fromHash=function(t){return t===r?o:new i((h.call(t,0)|h.call(t,1)<<8|h.call(t,2)<<16|h.call(t,3)<<24)>>>0,(h.call(t,4)|h.call(t,5)<<8|h.call(t,6)<<16|h.call(t,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},i.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},i.prototype.length=function(){var t=this.lo,i=(this.lo>>>28|this.hi<<4)>>>0,o=this.hi>>>24;return 0===o?0===i?t<16384?t<128?1:2:t<2097152?3:4:i<16384?i<128?5:6:i<2097152?7:8:o<128?9:10};
},{"./util":"HQWY"}],"8kOt":[function(require,module,exports) {
function r(r,n,u){var t=u||8192,e=t>>>1,l=null,o=t;return function(u){if(u<1||u>e)return r(u);o+u>t&&(l=r(t),o=0);var a=n.call(l,o,o+=u);return 7&o&&(o=1+(7|o)),a}}module.exports=r;
},{}],"Hofe":[function(require,module,exports) {
function n(n){return"undefined"!=typeof Float32Array?function(){var e=new Float32Array([-0]),t=new Uint8Array(e.buffer),r=128===t[3];function o(n,r,o){e[0]=n,r[o]=t[0],r[o+1]=t[1],r[o+2]=t[2],r[o+3]=t[3]}function u(n,r,o){e[0]=n,r[o]=t[3],r[o+1]=t[2],r[o+2]=t[1],r[o+3]=t[0]}function a(n,r){return t[0]=n[r],t[1]=n[r+1],t[2]=n[r+2],t[3]=n[r+3],e[0]}function i(n,r){return t[3]=n[r],t[2]=n[r+1],t[1]=n[r+2],t[0]=n[r+3],e[0]}n.writeFloatLE=r?o:u,n.writeFloatBE=r?u:o,n.readFloatLE=r?a:i,n.readFloatBE=r?i:a}():function(){function u(n,e,t,r){var o=e<0?1:0;if(o&&(e=-e),0===e)n(1/e>0?0:2147483648,t,r);else if(isNaN(e))n(2143289344,t,r);else if(e>3.4028234663852886e38)n((o<<31|2139095040)>>>0,t,r);else if(e<1.1754943508222875e-38)n((o<<31|Math.round(e/1.401298464324817e-45))>>>0,t,r);else{var u=Math.floor(Math.log(e)/Math.LN2);n((o<<31|u+127<<23|8388607&Math.round(e*Math.pow(2,-u)*8388608))>>>0,t,r)}}function a(n,e,t){var r=n(e,t),o=2*(r>>31)+1,u=r>>>23&255,a=8388607&r;return 255===u?a?NaN:o*(1/0):0===u?1.401298464324817e-45*o*a:o*Math.pow(2,u-150)*(a+8388608)}n.writeFloatLE=u.bind(null,e),n.writeFloatBE=u.bind(null,t),n.readFloatLE=a.bind(null,r),n.readFloatBE=a.bind(null,o)}(),"undefined"!=typeof Float64Array?function(){var e=new Float64Array([-0]),t=new Uint8Array(e.buffer),r=128===t[7];function o(n,r,o){e[0]=n,r[o]=t[0],r[o+1]=t[1],r[o+2]=t[2],r[o+3]=t[3],r[o+4]=t[4],r[o+5]=t[5],r[o+6]=t[6],r[o+7]=t[7]}function u(n,r,o){e[0]=n,r[o]=t[7],r[o+1]=t[6],r[o+2]=t[5],r[o+3]=t[4],r[o+4]=t[3],r[o+5]=t[2],r[o+6]=t[1],r[o+7]=t[0]}function a(n,r){return t[0]=n[r],t[1]=n[r+1],t[2]=n[r+2],t[3]=n[r+3],t[4]=n[r+4],t[5]=n[r+5],t[6]=n[r+6],t[7]=n[r+7],e[0]}function i(n,r){return t[7]=n[r],t[6]=n[r+1],t[5]=n[r+2],t[4]=n[r+3],t[3]=n[r+4],t[2]=n[r+5],t[1]=n[r+6],t[0]=n[r+7],e[0]}n.writeDoubleLE=r?o:u,n.writeDoubleBE=r?u:o,n.readDoubleLE=r?a:i,n.readDoubleBE=r?i:a}():function(){function u(n,e,t,r,o,u){var a=r<0?1:0;if(a&&(r=-r),0===r)n(0,o,u+e),n(1/r>0?0:2147483648,o,u+t);else if(isNaN(r))n(0,o,u+e),n(2146959360,o,u+t);else if(r>1.7976931348623157e308)n(0,o,u+e),n((a<<31|2146435072)>>>0,o,u+t);else{var i;if(r<2.2250738585072014e-308)n((i=r/5e-324)>>>0,o,u+e),n((a<<31|i/4294967296)>>>0,o,u+t);else{var l=Math.floor(Math.log(r)/Math.LN2);1024===l&&(l=1023),n(4503599627370496*(i=r*Math.pow(2,-l))>>>0,o,u+e),n((a<<31|l+1023<<20|1048576*i&1048575)>>>0,o,u+t)}}}function a(n,e,t,r,o){var u=n(r,o+e),a=n(r,o+t),i=2*(a>>31)+1,l=a>>>20&2047,f=4294967296*(1048575&a)+u;return 2047===l?f?NaN:i*(1/0):0===l?5e-324*i*f:i*Math.pow(2,l-1075)*(f+4503599627370496)}n.writeDoubleLE=u.bind(null,e,0,4),n.writeDoubleBE=u.bind(null,t,4,0),n.readDoubleLE=a.bind(null,r,0,4),n.readDoubleBE=a.bind(null,o,4,0)}(),n}function e(n,e,t){e[t]=255&n,e[t+1]=n>>>8&255,e[t+2]=n>>>16&255,e[t+3]=n>>>24}function t(n,e,t){e[t]=n>>>24,e[t+1]=n>>>16&255,e[t+2]=n>>>8&255,e[t+3]=255&n}function r(n,e){return(n[e]|n[e+1]<<8|n[e+2]<<16|n[e+3]<<24)>>>0}function o(n,e){return(n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3])>>>0}module.exports=n(n);
},{}],"Gmhw":[function(require,module,exports) {
"use strict";function n(n,e){for(var r=new Array(arguments.length-1),t=0,l=2,o=!0;l<arguments.length;)r[t++]=arguments[l++];return new Promise(function(l,u){r[t]=function(n){if(o)if(o=!1,n)u(n);else{for(var e=new Array(arguments.length-1),r=0;r<e.length;)e[r++]=arguments[r];l.apply(null,e)}};try{n.apply(e||null,r)}catch(a){o&&(o=!1,u(a))}})}module.exports=n;
},{}],"fTab":[function(require,module,exports) {
"use strict";function t(){this._listeners={}}module.exports=t,t.prototype.on=function(t,s,e){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:s,ctx:e||this}),this},t.prototype.off=function(t,s){if(void 0===t)this._listeners={};else if(void 0===s)this._listeners[t]=[];else for(var e=this._listeners[t],i=0;i<e.length;)e[i].fn===s?e.splice(i,1):++i;return this},t.prototype.emit=function(t){var s=this._listeners[t];if(s){for(var e=[],i=1;i<arguments.length;)e.push(arguments[i++]);for(i=0;i<s.length;)s[i].fn.apply(s[i++].ctx,e)}return this};
},{}],"9xCK":[function(require,module,exports) {
var e=module.exports,r=e.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},t=e.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),l=r(e),n="";l&&(n=t.shift()+"/");for(var i=0;i<t.length;)".."===t[i]?i>0&&".."!==t[i-1]?t.splice(--i,2):l?t.splice(i,1):++i:"."===t[i]?t.splice(i,1):++i;return n+t.join("/")};e.resolve=function(e,l,n){return n||(l=t(l)),r(l)?l:(n||(e=t(e)),(e=e.replace(/(?:\/|^)[^\/]+$/,"")).length?t(e+"/"+l):l)};
},{}],"lxH0":[function(require,module,exports) {
"use strict";var r=module.exports;r.length=function(r){var e=r.length;if(!e)return 0;for(var a=0;--e%4>1&&"="===r.charAt(e);)++a;return Math.ceil(3*r.length)/4-a};for(var e=new Array(64),a=new Array(123),t=0;t<64;)a[e[t]=t<26?t+65:t<52?t+71:t<62?t-4:t-59|43]=t++;r.encode=function(r,a,t){for(var n,o=null,i=[],c=0,s=0;a<t;){var h=r[a++];switch(s){case 0:i[c++]=e[h>>2],n=(3&h)<<4,s=1;break;case 1:i[c++]=e[n|h>>4],n=(15&h)<<2,s=2;break;case 2:i[c++]=e[n|h>>6],i[c++]=e[63&h],s=0}c>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),c=0)}return s&&(i[c++]=e[n],i[c++]=61,1===s&&(i[c++]=61)),o?(c&&o.push(String.fromCharCode.apply(String,i.slice(0,c))),o.join("")):String.fromCharCode.apply(String,i.slice(0,c))};var n="invalid encoding";r.decode=function(r,e,t){for(var o,i=t,c=0,s=0;s<r.length;){var h=r.charCodeAt(s++);if(61===h&&c>1)break;if(void 0===(h=a[h]))throw Error(n);switch(c){case 0:o=h,c=1;break;case 1:e[t++]=o<<2|(48&h)>>4,o=h,c=2;break;case 2:e[t++]=(15&o)<<4|(60&h)>>2,o=h,c=3;break;case 3:e[t++]=(3&o)<<6|h,c=0}}if(1===c)throw Error(n);return t-i},r.test=function(r){return/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(r)};
},{}],"DDeL":[function(require,module,exports) {
"use strict";var r=module.exports;r.length=function(r){for(var t=0,e=0,n=0;n<r.length;++n)(e=r.charCodeAt(n))<128?t+=1:e<2048?t+=2:55296==(64512&e)&&56320==(64512&r.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},r.read=function(r,t,e){if(e-t<1)return"";for(var n,o=null,a=[],i=0;t<e;)(n=r[t++])<128?a[i++]=n:n>191&&n<224?a[i++]=(31&n)<<6|63&r[t++]:n>239&&n<365?(n=((7&n)<<18|(63&r[t++])<<12|(63&r[t++])<<6|63&r[t++])-65536,a[i++]=55296+(n>>10),a[i++]=56320+(1023&n)):a[i++]=(15&n)<<12|(63&r[t++])<<6|63&r[t++],i>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),i=0);return o?(i&&o.push(String.fromCharCode.apply(String,a.slice(0,i))),o.join("")):String.fromCharCode.apply(String,a.slice(0,i))},r.write=function(r,t,e){for(var n,o,a=e,i=0;i<r.length;++i)(n=r.charCodeAt(i))<128?t[e++]=n:n<2048?(t[e++]=n>>6|192,t[e++]=63&n|128):55296==(64512&n)&&56320==(64512&(o=r.charCodeAt(i+1)))?(n=65536+((1023&n)<<10)+(1023&o),++i,t[e++]=n>>18|240,t[e++]=n>>12&63|128,t[e++]=n>>6&63|128,t[e++]=63&n|128):(t[e++]=n>>12|224,t[e++]=n>>6&63|128,t[e++]=63&n|128);return e-a};
},{}],"IUvN":[function(require,module,exports) {
"use strict";var e=t(require("@babel/runtime/helpers/typeof"));function t(e){return e&&e.__esModule?e:{default:e}}module.exports=i;var r=require("./object");((i.prototype=Object.create(r.prototype)).constructor=i).className="Enum";var s=require("./namespace");function i(t,s,i,o,n){if(r.call(this,t,i),s&&"object"!==(0,e.default)(s))throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=o,this.comments=n||{},this.reserved=void 0,s)for(var u=Object.keys(s),a=0;a<u.length;++a)"number"==typeof s[u[a]]&&(this.valuesById[this.values[u[a]]=s[u[a]]]=u[a])}i.fromJSON=function(e,t){var r=new i(e,t.values,t.options,t.comment,t.comments);return r.reserved=t.reserved,r},i.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return util.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},i.prototype.add=function(e,t,r){if(!util.isString(e))throw TypeError("name must be a string");if(!util.isInteger(t))throw TypeError("id must be an integer");if(void 0!==this.values[e])throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(void 0!==this.valuesById[t]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return this.comments[e]=r||null,this},i.prototype.remove=function(e){if(!util.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this},i.prototype.isReservedId=function(e){return s.isReservedId(this.reserved,e)},i.prototype.isReservedName=function(e){return s.isReservedName(this.reserved,e)};
},{"@babel/runtime/helpers/typeof":"LNzP","./object":"rb45","./namespace":"C9/l"}],"K1j0":[function(require,module,exports) {
"use strict";var e=module.exports,i=require("./util"),t=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function n(e,i){var n=0,r={};for(i|=0;n<e.length;)r[t[n+i]]=e[n++];return r}e.basic=n([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),e.defaults=n([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",i.emptyArray,null]),e.long=n([0,0,0,1,1],7),e.mapKey=n([0,0,0,5,5,0,0,0,1,1,0,2],2),e.packed=n([1,5,0,0,0,5,5,0,0,0,1,1,0]),e._configure=function(){i=require("./util")};
},{"./util":"HQWY"}],"ixQC":[function(require,module,exports) {
"use strict";var e=t(require("@babel/runtime/helpers/typeof"));function t(e){return e&&e.__esModule?e:{default:e}}module.exports=l;var i,s,o,r,n=require("./object");((l.prototype=Object.create(n.prototype)).constructor=l).className="Field";var p=/^required|optional|repeated$/;function l(e,t,i,r,l,u,a){if(o.isObject(r)?(a=l,u=r,r=l=void 0):o.isObject(l)&&(a=u,u=l,l=void 0),n.call(this,e,u),!o.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!o.isString(i))throw TypeError("type must be a string");if(void 0!==r&&!p.test(r=r.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==l&&!o.isString(l))throw TypeError("extend must be a string");this.rule=r&&"optional"!==r?r:void 0,this.type=i,this.id=t,this.extend=l||void 0,this.required="required"===r,this.optional=!this.required,this.repeated="repeated"===r,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!o.Long&&void 0!==s.long[i],this.bytes="bytes"===i,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=a}l.fromJSON=function(e,t){return new l(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(l.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),l.prototype.setOption=function(e,t,i){return"packed"===e&&(this._packed=null),n.prototype.setOption.call(this,e,t,i)},l.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},l.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=s.defaults[this.type])&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof r?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof i&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof i)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=o.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;o.utf8.write(this.typeDefault,e=o.newBuffer(o.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=o.emptyObject:this.repeated?this.defaultValue=o.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof r&&(this.parent.ctor.prototype[this.name]=this.defaultValue),n.prototype.resolve.call(this)},l.d=function(t,i,s,r){return"function"==typeof i?i=o.decorateType(i).name:i&&"object"===(0,e.default)(i)&&(i=o.decorateEnum(i).name),function(e,n){o.decorateType(e.constructor).add(new l(n,t,i,s,{default:r}))}},l._configure=function(){r=require("./type"),i=require("./enum"),s=require("./types"),o=require("./util")};
},{"@babel/runtime/helpers/typeof":"LNzP","./object":"rb45","./type":"EOlb","./enum":"IUvN","./types":"K1j0","./util":"HQWY"}],"ZsNy":[function(require,module,exports) {
module.exports=o;var e,t,r=require("./object");function o(e,t,o,n){if(Array.isArray(t)||(o=t,t=void 0),r.call(this,e,o),void 0!==t&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=n}function n(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}((o.prototype=Object.create(r.prototype)).constructor=o).className="OneOf",o.fromJSON=function(e,t){return new o(e,t.oneof,t.options,t.comment)},o.prototype.toJSON=function(e){var r=!!e&&Boolean(e.keepComments);return t.toObject(["options",this.options,"oneof",this.oneof,"comment",r?this.comment:void 0])},o.prototype.add=function(t){if(!(t instanceof e))throw TypeError("field must be a Field");return t.parent&&t.parent!==this.parent&&t.parent.remove(t),this.oneof.push(t.name),this.fieldsArray.push(t),t.partOf=this,n(this),this},o.prototype.remove=function(t){if(!(t instanceof e))throw TypeError("field must be a Field");var r=this.fieldsArray.indexOf(t);if(r<0)throw Error(t+" is not a member of "+this);return this.fieldsArray.splice(r,1),(r=this.oneof.indexOf(t.name))>-1&&this.oneof.splice(r,1),t.partOf=null,this},o.prototype.onAdd=function(e){r.prototype.onAdd.call(this,e);for(var t=0;t<this.oneof.length;++t){var o=e.get(this.oneof[t]);o&&!o.partOf&&(o.partOf=this,this.fieldsArray.push(o))}n(this)},o.prototype.onRemove=function(e){for(var t,o=0;o<this.fieldsArray.length;++o)(t=this.fieldsArray[o]).parent&&t.parent.remove(t);r.prototype.onRemove.call(this,e)},o.d=function(){for(var e=new Array(arguments.length),r=0;r<arguments.length;)e[r]=arguments[r++];return function(r,n){t.decorateType(r.constructor).add(new o(n,e)),Object.defineProperty(r,n,{get:t.oneOfGetter(e),set:t.oneOfSetter(e)})}},o._configure=function(){e=require("./field"),t=require("./util")};
},{"./object":"rb45","./field":"ixQC","./util":"HQWY"}],"5oGY":[function(require,module,exports) {
module.exports=a;var n=/[\s{}=;:[\],'"()<>]/g,r=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,t=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,e=/^ *[*\/]+ */,i=/^\s*\*?\/*/,u=/\n/g,l=/\s/,f=/\\(.?)/g,o={0:"\0",r:"\r",n:"\n",t:"\t"};function s(n){return n.replace(f,function(n,r){switch(r){case"\\":case"":return r;default:return o[r]||""}})}function a(f,o){f=f.toString();var a=0,c=f.length,h=1,g=null,v=null,d=0,p=!1,m=[],w=null;function x(n){return Error("illegal "+n+" (line "+h+")")}function b(n){return f.charAt(n)}function k(n,r){g=f.charAt(n++),d=h,p=!1;var t,l=n-(o?2:3);do{if(--l<0||"\n"===(t=f.charAt(l))){p=!0;break}}while(" "===t||"\t"===t);for(var s=f.substring(n,r).split(u),a=0;a<s.length;++a)s[a]=s[a].replace(o?i:e,"").trim();v=s.join("\n").trim()}function A(n){var r=I(n),t=f.substring(n,r);return/^\s*\/{1,2}/.test(t)}function I(n){for(var r=n;r<c&&"\n"!==b(r);)r++;return r}function j(){if(m.length>0)return m.shift();if(w)return function(){var n="'"===w?t:r;n.lastIndex=a-1;var e=n.exec(f);if(!e)throw x("string");return a=n.lastIndex,y(w),w=null,s(e[1])}();var e,i,u,g,v;do{if(a===c)return null;for(e=!1;l.test(u=b(a));)if("\n"===u&&++h,++a===c)return null;if("/"===b(a)){if(++a===c)throw x("comment");if("/"===b(a))if(o){if(g=a,v=!1,A(a)){v=!0;do{if((a=I(a))===c)break;a++}while(A(a))}else a=Math.min(c,I(a)+1);v&&k(g,a),h++,e=!0}else{for(v="/"===b(g=a+1);"\n"!==b(++a);)if(a===c)return null;++a,v&&k(g,a-1),++h,e=!0}else{if("*"!==(u=b(a)))return"/";g=a+1,v=o||"*"===b(g);do{if("\n"===u&&++h,++a===c)throw x("comment");i=u,u=b(a)}while("*"!==i||"/"!==u);++a,v&&k(g,a-2),e=!0}}}while(e);var d=a;if(n.lastIndex=0,!n.test(b(d++)))for(;d<c&&!n.test(b(d));)++d;var p=f.substring(a,a=d);return'"'!==p&&"'"!==p||(w=p),p}function y(n){m.push(n)}function E(){if(!m.length){var n=j();if(null===n)return null;y(n)}return m[0]}return Object.defineProperty({next:j,peek:E,push:y,skip:function(n,r){var t=E();if(t===n)return j(),!0;if(!r)throw x("token '"+t+"', '"+n+"' expected");return!1},cmnt:function(n){var r=null;return void 0===n?d===h-1&&(o||"*"===g||p)&&(r=v):(d<n&&E(),d!==n||p||!o&&"/"!==g||(r=v)),r}},"line",{get:function(){return h}})}a.unescape=s;
},{}],"J/IO":[function(require,module,exports) {
"use strict";var e=t(require("@babel/runtime/helpers/typeof"));function t(e){return e&&e.__esModule?e:{default:e}}module.exports=n;var o,r,i=require("./field");function n(e,t,o,n,p,s){if(i.call(this,e,t,n,void 0,void 0,p,s),!r.isString(o))throw TypeError("keyType must be a string");this.keyType=o,this.resolvedKeyType=null,this.map=!0}((n.prototype=Object.create(i.prototype)).constructor=n).className="MapField",n.fromJSON=function(e,t){return new n(e,t.id,t.keyType,t.type,t.options,t.comment)},n.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return r.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},n.prototype.resolve=function(){if(this.resolved)return this;if(void 0===o.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return i.prototype.resolve.call(this)},n.d=function(t,o,i){return"function"==typeof i?i=r.decorateType(i).name:i&&"object"===(0,e.default)(i)&&(i=r.decorateEnum(i).name),function(e,p){r.decorateType(e.constructor).add(new n(p,t,o,i))}},n._configure=function(){o=require("./types"),r=require("./util")};
},{"@babel/runtime/helpers/typeof":"LNzP","./field":"ixQC","./types":"K1j0","./util":"HQWY"}],"Dw/M":[function(require,module,exports) {
"use strict";module.exports=s;var e,t=require("./object");function s(s,r,o,i,p,n,u,y){if(e.isObject(p)?(u=p,p=n=void 0):e.isObject(n)&&(u=n,n=void 0),void 0!==r&&!e.isString(r))throw TypeError("type must be a string");if(!e.isString(o))throw TypeError("requestType must be a string");if(!e.isString(i))throw TypeError("responseType must be a string");t.call(this,s,u),this.type=r||"rpc",this.requestType=o,this.requestStream=!!p||void 0,this.responseType=i,this.responseStream=!!n||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=y}((s.prototype=Object.create(t.prototype)).constructor=s).className="Method",s.fromJSON=function(e,t){return new s(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment)},s.prototype.toJSON=function(t){var s=!!t&&Boolean(t.keepComments);return e.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",s?this.comment:void 0])},s.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),t.prototype.resolve.call(this))},s._configure=function(){e=require("./util")};
},{"./object":"rb45","./util":"HQWY"}],"3MUg":[function(require,module,exports) {
"use strict";module.exports=t;var e=require("../util");function t(t,r,i){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");e.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(r),this.responseDelimited=Boolean(i)}(t.prototype=Object.create(e.EventEmitter.prototype)).constructor=t,t.prototype.rpcCall=function t(r,i,n,o,l){if(!o)throw TypeError("request must be specified");var u=this;if(!l)return e.asPromise(t,u,r,i,n,o);if(u.rpcImpl)try{return u.rpcImpl(r,i[u.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(e,t){if(e)return u.emit("error",e,r),l(e);if(null!==t){if(!(t instanceof n))try{t=n[u.responseDelimited?"decodeDelimited":"decode"](t)}catch(e){return u.emit("error",e,r),l(e)}return u.emit("data",t,r),l(null,t)}u.end(!0)})}catch(c){return u.emit("error",c,r),void setTimeout(function(){l(c)},0)}else setTimeout(function(){l(Error("already ended"))},0)},t.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};
},{"../util":"HQWY"}],"irfy":[function(require,module,exports) {
"use strict";module.exports=s;var e,t,r,o=require("./namespace");function s(e,t){o.call(this,e,t),this.methods={},this._methodsArray=null}function n(e){return e._methodsArray=null,e}((s.prototype=Object.create(o.prototype)).constructor=s).className="Service",s.fromJSON=function(t,r){var o=new s(t,r.options);if(r.methods)for(var n=Object.keys(r.methods),i=0;i<n.length;++i)o.add(e.fromJSON(n[i],r.methods[n[i]]));return r.nested&&o.addJSON(r.nested),o.comment=r.comment,o},s.prototype.toJSON=function(e){var r=o.prototype.toJSON.call(this,e),s=!!e&&Boolean(e.keepComments);return t.toObject(["options",r&&r.options||void 0,"methods",o.arrayToJSON(this.methodsArray,e)||{},"nested",r&&r.nested||void 0,"comment",s?this.comment:void 0])},Object.defineProperty(s.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=t.toArray(this.methods))}}),s.prototype.get=function(e){return this.methods[e]||o.prototype.get.call(this,e)},s.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return o.prototype.resolve.call(this)},s.prototype.add=function(t){if(this.get(t.name))throw Error("duplicate name '"+t.name+"' in "+this);return t instanceof e?(this.methods[t.name]=t,t.parent=this,n(this)):o.prototype.add.call(this,t)},s.prototype.remove=function(t){if(t instanceof e){if(this.methods[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.methods[t.name],t.parent=null,n(this)}return o.prototype.remove.call(this,t)},s.prototype.create=function(e,o,s){for(var n,i=new r.Service(e,o,s),h=0;h<this.methodsArray.length;++h){var a=t.lcFirst((n=this._methodsArray[h]).resolve().name).replace(/[^$\w_]/g,"");i[a]=t.codegen(["r","c"],t.isReserved(a)?a+"_":a)("return this.rpcCall(m,q,s,r,c)")({m:n,q:n.resolvedRequestType.ctor,s:n.resolvedResponseType.ctor})}return i},s._configure=function(){e=require("./method"),t=require("./util"),r=require("./rpc/service")};
},{"./namespace":"C9/l","./method":"Dw/M","./util":"HQWY","./rpc/service":"3MUg"}],"zAwM":[function(require,module,exports) {
"use strict";var e,t,r,n,a,i,o,s,c,f,u;module.exports=x,x.filename=null,x.defaults={keepCase:!1};var p=/^[1-9][0-9]*$/,w=/^-?[1-9][0-9]*$/,h=/^0[x][0-9a-fA-F]+$/,d=/^-?0[x][0-9a-fA-F]+$/,l=/^0[0-7]+$/,m=/^-?0[0-7]+$/,v=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,k=/^[a-zA-Z_][a-zA-Z_0-9]*$/,b=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)+$/,q=/^(?:\.[a-zA-Z][a-zA-Z_0-9]*)+$/;function x(A,y,g){y instanceof t||(g=y,y=new t),g||(g=x.defaults);var $,I,F,N,z,Z=e(A,g.alternateCommentMode||!1),_=Z.next,E=Z.push,C=Z.peek,M=Z.skip,O=Z.cmnt,j=!0,K=!1,L=y,R=g.keepCase?function(e){return e}:u.camelCase;function S(e,t,r){var n=x.filename;return r||(x.filename=null),Error("illegal "+(t||"token")+" '"+e+"' ("+(n?n+", ":"")+"line "+Z.line+")")}function T(){var e,t=[];do{if('"'!==(e=_())&&"'"!==e)throw S(e);t.push(_()),M(e),e=C()}while('"'===e||"'"===e);return t.join("")}function U(e){var t=_();switch(t){case"'":case'"':return E(t),T();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return function(e,t){var r=1;"-"===e.charAt(0)&&(r=-1,e=e.substring(1));switch(e){case"inf":case"INF":case"Inf":return r*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(p.test(e))return r*parseInt(e,10);if(h.test(e))return r*parseInt(e,16);if(l.test(e))return r*parseInt(e,8);if(v.test(e))return r*parseFloat(e);throw S(e,"number",t)}(t,!0)}catch(r){if(e&&b.test(t))return t;throw S(t,"value")}}function X(e,t){var r,n;do{!t||'"'!==(r=C())&&"'"!==r?e.push([n=B(_()),M("to",!0)?B(_()):n]):e.push(T())}while(M(",",!0));M(";")}function B(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!t&&"-"===e.charAt(0))throw S(e,"id");if(w.test(e))return parseInt(e,10);if(d.test(e))return parseInt(e,16);if(m.test(e))return parseInt(e,8);throw S(e,"id")}function D(){if(void 0!==$)throw S("package");if($=_(),!b.test($))throw S($,"name");L=L.define($),M(";")}function G(){var e,t=C();switch(t){case"weak":e=F||(F=[]),_();break;case"public":_();default:e=I||(I=[])}t=T(),M(";"),e.push(t)}function H(){if(M("="),N=T(),!(K="proto3"===N)&&"proto2"!==N)throw S(N,"syntax");M(";")}function J(e,t){switch(t){case"option":return V(e,t),M(";"),!0;case"message":return function(e,t){if(!k.test(t=_()))throw S(t,"type name");var n=new r(t);P(n,function(e){if(!J(n,e))switch(e){case"map":!function(e){M("<");var t=_();if(void 0===f.mapKey[t])throw S(t,"type");M(",");var r=_();if(!b.test(r))throw S(r,"type");M(">");var n=_();if(!k.test(n))throw S(n,"name");M("=");var i=new a(R(n),B(_()),t,r);P(i,function(e){if("option"!==e)throw S(e);V(i,e),M(";")},function(){ee(i)}),e.add(i)}(n);break;case"required":case"optional":case"repeated":Q(n,e);break;case"oneof":!function(e,t){if(!k.test(t=_()))throw S(t,"name");var r=new i(R(t));P(r,function(e){"option"===e?(V(r,e),M(";")):(E(e),Q(r,"optional"))}),e.add(r)}(n,e);break;case"extensions":X(n.extensions||(n.extensions=[]));break;case"reserved":X(n.reserved||(n.reserved=[]),!0);break;default:if(!K||!b.test(e))throw S(e);E(e),Q(n,"optional")}}),e.add(n)}(e,t),!0;case"enum":return function(e,t){if(!k.test(t=_()))throw S(t,"name");var r=new o(t);P(r,function(e){switch(e){case"option":V(r,e),M(";");break;case"reserved":X(r.reserved||(r.reserved=[]),!0);break;default:!function(e,t){if(!k.test(t))throw S(t,"name");M("=");var r=B(_(),!0),n={};P(n,function(e){if("option"!==e)throw S(e);V(n,e),M(";")},function(){ee(n)}),e.add(t,r,n.comment)}(r,e)}}),e.add(r)}(e,t),!0;case"service":return function(e,t){if(!k.test(t=_()))throw S(t,"service name");var r=new s(t);P(r,function(e){if(!J(r,e)){if("rpc"!==e)throw S(e);!function(e,t){var r=t;if(!k.test(t=_()))throw S(t,"name");var n,a,i,o,s=t;M("("),M("stream",!0)&&(a=!0);if(!b.test(t=_()))throw S(t);n=t,M(")"),M("returns"),M("("),M("stream",!0)&&(o=!0);if(!b.test(t=_()))throw S(t);i=t,M(")");var f=new c(s,r,n,i,a,o);P(f,function(e){if("option"!==e)throw S(e);V(f,e),M(";")}),e.add(f)}(r,e)}}),e.add(r)}(e,t),!0;case"extend":return function(e,t){if(!b.test(t=_()))throw S(t,"reference");var r=t;P(null,function(t){switch(t){case"required":case"repeated":case"optional":Q(e,t,r);break;default:if(!K||!b.test(t))throw S(t);E(t),Q(e,"optional",r)}})}(e,t),!0}return!1}function P(e,t,r){var n=Z.line;if(e&&(e.comment=O(),e.filename=x.filename),M("{",!0)){for(var a;"}"!==(a=_());)t(a);M(";",!0)}else r&&r(),M(";"),e&&"string"!=typeof e.comment&&(e.comment=O(n))}function Q(e,t,a){var i=_();if("group"!==i){if(!b.test(i))throw S(i,"type");var o=_();if(!k.test(o))throw S(o,"name");o=R(o),M("=");var s=new n(o,B(_()),i,t,a);P(s,function(e){if("option"!==e)throw S(e);V(s,e),M(";")},function(){ee(s)}),e.add(s),K||!s.repeated||void 0===f.packed[i]&&void 0!==f.basic[i]||s.setOption("packed",!1,!0)}else!function(e,t){var a=_();if(!k.test(a))throw S(a,"name");var i=u.lcFirst(a);a===i&&(a=u.ucFirst(a));M("=");var o=B(_()),s=new r(a);s.group=!0;var c=new n(i,o,a,t);c.filename=x.filename,P(s,function(e){switch(e){case"option":V(s,e),M(";");break;case"required":case"optional":case"repeated":Q(s,e);break;default:throw S(e)}}),e.add(s).add(c)}(e,t)}function V(e,t){var r=M("(",!0);if(!b.test(t=_()))throw S(t,"name");var n=t;r&&(M(")"),n="("+n+")",t=C(),q.test(t)&&(n+=t,_())),M("="),W(e,n)}function W(e,t){if(M("{",!0))do{if(!k.test(z=_()))throw S(z,"name");"{"===C()?W(e,t+"."+z):(M(":"),"{"===C()?W(e,t+"."+z):Y(e,t+"."+z,U(!0)))}while(!M("}",!0));else Y(e,t,U(!0))}function Y(e,t,r){e.setOption&&e.setOption(t,r)}function ee(e){if(M("[",!0)){do{V(e,"option")}while(M(",",!0));M("]")}return e}for(;null!==(z=_());)switch(z){case"package":if(!j)throw S(z);D();break;case"import":if(!j)throw S(z);G();break;case"syntax":if(!j)throw S(z);H();break;case"option":if(!j)throw S(z);V(L,z),M(";");break;default:if(J(L,z)){j=!1;continue}throw S(z)}return x.filename=null,{package:$,imports:I,weakImports:F,syntax:N,root:y}}x._configure=function(){e=require("./tokenize"),t=require("./root"),r=require("./type"),n=require("./field"),a=require("./mapField"),i=require("./oneof"),o=require("./enum"),s=require("./service"),c=require("./method"),f=require("./types"),u=require("./util")};
},{"./tokenize":"5oGY","./root":"W2Lj","./type":"EOlb","./field":"ixQC","./mapField":"J/IO","./oneof":"ZsNy","./enum":"IUvN","./service":"irfy","./method":"Dw/M","./types":"K1j0","./util":"HQWY"}],"RclE":[function(require,module,exports) {
module.exports=t;var e,l=/\/|\./;function t(e,u){l.test(e)||(e="google/protobuf/"+e+".proto",u={nested:{google:{nested:{protobuf:{nested:u}}}}}),t[e]=u}t("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),t("duration",{Duration:e={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),t("timestamp",{Timestamp:e}),t("empty",{Empty:{fields:{}}}),t("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),t("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),t("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),t.get=function(e){return t[e]||null};
},{}],"g5I+":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"W2Lj":[function(require,module,exports) {
var process = require("process");
var e=require("process"),t=r(require("@babel/runtime/helpers/typeof"));function r(e){return e&&e.__esModule?e:{default:e}}module.exports=d;var n=require("./namespace");((d.prototype=Object.create(n.prototype)).constructor=d).className="Root";var i,o,s,a=require("./field"),f=require("./enum"),l=require("./oneof"),u=require("./util");function d(e){n.call(this,"",e),this.deferred=[],this.files=[],this.names=[]}function p(){}function c(e,r,n){"function"==typeof r&&(n=r,r=void 0);var i=this;if(!n)return u.asPromise(c,i,e,r);var a=null;if("string"==typeof e)a=JSON.parse(e);else{if("object"!==(0,t.default)(e))return void console.log("pb格式转化失败");a=e}function f(e,t){if(n){var r=n;n=null,r(e,t)}}function l(e,t){try{if(u.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),u.isString(t)){o.filename=e;var n,s=o(t,i,r),a=0;if(s.imports)for(;a<s.imports.length;++a)d(n=s.imports[a]);if(s.weakImports){for(a=0;a<s.weakImports.length;++a)n=s.weakImports[a];d(n)}}else i.setOptions(t.options).addJSON(t.nested)}catch(l){f(l)}f(null,i)}function d(e){i.names.indexOf(e)>-1||(i.names.push(e),e in s&&l(e,s[e]))}l(a.name,a.pbJsonStr)}d.fromJSON=function(e,t){return e="string"==typeof e?JSON.parse(e):e,t||(t=new d),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},d.prototype.resolvePath=u.path.resolve,d.prototype.parseFromPbString=c,d.prototype.load=function e(t,r,n){"function"==typeof r&&(n=r,r=void 0);var i=this;if(!n)return u.asPromise(e,i,t,r);var a=n===p;function f(e,t){if(n){var r=n;if(n=null,a)throw e;r(e,t)}}function l(e,t){try{if(u.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),u.isString(t)){o.filename=e;var n,s=o(t,i,r),l=0;if(s.imports)for(;l<s.imports.length;++l)(n=i.resolvePath(e,s.imports[l]))&&d(n);if(s.weakImports)for(l=0;l<s.weakImports.length;++l)(n=i.resolvePath(e,s.weakImports[l]))&&d(n,!0)}else i.setOptions(t.options).addJSON(t.nested)}catch(p){f(p)}a||c||f(null,i)}function d(e,t){var r=e.lastIndexOf("google/protobuf/");if(r>-1){var o=e.substring(r);o in s&&(e=o)}if(!(i.files.indexOf(e)>-1))if(i.files.push(e),e in s)a?l(e,s[e]):(++c,setTimeout(function(){--c,l(e,s[e])}));else if(a){var d;try{d=u.fs.readFileSync(e).toString("utf8")}catch(p){return void(t||f(p))}l(e,d)}else++c,u.fetch(e,function(r,o){--c,n&&(r?t?c||f(null,i):f(r):l(e,o))})}var c=0;u.isString(t)&&(t=[t]);for(var h,m=0;m<t.length;++m)(h=i.resolvePath("",t[m]))&&d(h);if(a)return i;c||f(null,i)},d.prototype.loadSync=function(e,t){if(!u.isNode)throw Error("not supported");return this.load(e,t,p)},d.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return n.prototype.resolveAll.call(this)};var h=/^[A-Z]/;function m(e,t){var r=t.parent.lookup(t.extend);if(r){var n=new a(t.fullName,t.id,t.type,t.rule,void 0,t.options);return n.declaringField=t,t.extensionField=n,r.add(n),!0}return!1}d.prototype._handleAdd=function(e){if(e instanceof a)void 0===e.extend||e.extensionField||m(this,e)||this.deferred.push(e);else if(e instanceof f)h.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof l)){if(e instanceof i)for(var t=0;t<this.deferred.length;)m(this,this.deferred[t])?this.deferred.splice(t,1):++t;for(var r=0;r<e.nestedArray.length;++r)this._handleAdd(e._nestedArray[r]);h.test(e.name)&&(e.parent[e.name]=e)}},d.prototype._handleRemove=function(e){if(e instanceof a){if(void 0!==e.extend)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof f)h.test(e.name)&&delete e.parent[e.name];else if(e instanceof n){for(var r=0;r<e.nestedArray.length;++r)this._handleRemove(e._nestedArray[r]);h.test(e.name)&&delete e.parent[e.name]}},d._configure=function(){i=require("./type"),o=require("./parse"),s=require("./common"),a=require("./field"),f=require("./enum"),l=require("./oneof"),u=require("./util")};
},{"@babel/runtime/helpers/typeof":"LNzP","./namespace":"C9/l","./field":"ixQC","./enum":"IUvN","./oneof":"ZsNy","./util":"HQWY","./type":"EOlb","./parse":"zAwM","./common":"RclE","process":"g5I+"}],"rb45":[function(require,module,exports) {
"use strict";var t,o;function e(o,e){if(!t.isString(o))throw TypeError("name must be a string");if(e&&!t.isObject(e))throw TypeError("options must be an object");this.options=e,this.name=o,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}module.exports=e,e.className="ReflectionObject",Object.defineProperties(e.prototype,{root:{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t}},fullName:{get:function(){for(var t=[this.name],o=this.parent;o;)t.unshift(o.name),o=o.parent;return t.join(".")}}}),e.prototype.toJSON=function(){throw Error()},e.prototype.onAdd=function(t){this.parent&&this.parent!==t&&this.parent.remove(this),this.parent=t,this.resolved=!1;var e=t.root;e instanceof o&&e._handleAdd(this)},e.prototype.onRemove=function(t){var e=t.root;e instanceof o&&e._handleRemove(this),this.parent=null,this.resolved=!1},e.prototype.resolve=function(){return this.resolved?this:(this.root instanceof o&&(this.resolved=!0),this)},e.prototype.getOption=function(t){if(this.options)return this.options[t]},e.prototype.setOption=function(t,o,e){return e&&this.options&&void 0!==this.options[t]||((this.options||(this.options={}))[t]=o),this},e.prototype.setOptions=function(t,o){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)this.setOption(e[n],t[e[n]],o);return this},e.prototype.toString=function(){var t=this.constructor.className,o=this.fullName;return o.length?t+" "+o:t},e._configure=function(e){o=require("./root"),t=require("./util")};
},{"./root":"W2Lj","./util":"HQWY"}],"C9/l":[function(require,module,exports) {
module.exports=u;var e,t,r,n,o,i=require("./object");function s(e,t){if(e&&e.length){for(var r={},n=0;n<e.length;++n)r[e[n].name]=e[n].toJSON(t);return r}}function u(e,t){i.call(this,e,t),this.nested=void 0,this._nestedArray=null}function f(e){return e._nestedArray=null,e}((u.prototype=Object.create(i.prototype)).constructor=u).className="Namespace",u.fromJSON=function(e,t){return new u(e,t.options).addJSON(t.nested)},u.arrayToJSON=s,u.isReservedId=function(e,t){if(e)for(var r=0;r<e.length;++r)if("string"!=typeof e[r]&&e[r][0]<=t&&e[r][1]>=t)return!0;return!1},u.isReservedName=function(e,t){if(e)for(var r=0;r<e.length;++r)if(e[r]===t)return!0;return!1},Object.defineProperty(u.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=r.toArray(this.nested))}}),u.prototype.toJSON=function(e){return r.toObject(["options",this.options,"nested",s(this.nestedArray,e)])},u.prototype.addJSON=function(r){if(r)for(var i,s=Object.keys(r),f=0;f<s.length;++f)i=r[s[f]],this.add((void 0!==i.fields?n.fromJSON:void 0!==i.values?e.fromJSON:void 0!==i.methods?o.fromJSON:void 0!==i.id?t.fromJSON:u.fromJSON)(s[f],i));return this},u.prototype.get=function(e){return this.nested&&this.nested[e]||null},u.prototype.getEnum=function(t){if(this.nested&&this.nested[t]instanceof e)return this.nested[t].values;throw Error("no such enum: "+t)},u.prototype.add=function(r){if(!(r instanceof t&&void 0!==r.extend||r instanceof n||r instanceof e||r instanceof o||r instanceof u))throw TypeError("object must be a valid nested object");if(this.nested){var i=this.get(r.name);if(i){if(!(i instanceof u&&r instanceof u)||i instanceof n||i instanceof o)throw Error("duplicate name '"+r.name+"' in "+this);for(var s=i.nestedArray,h=0;h<s.length;++h)r.add(s[h]);this.remove(i),this.nested||(this.nested={}),r.setOptions(i.options,!0)}}else this.nested={};return this.nested[r.name]=r,r.onAdd(this),f(this)},u.prototype.remove=function(e){if(!(e instanceof i))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),f(this)},u.prototype.define=function(e,t){if(r.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var n=this;e.length>0;){var o=e.shift();if(n.nested&&n.nested[o]){if(!((n=n.nested[o])instanceof u))throw Error("path conflicts with non-namespace objects")}else n.add(n=new u(o))}return t&&n.addJSON(t),n},u.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof u?e[t++].resolveAll():e[t++].resolve();return this.resolve()},u.prototype.lookup=function(e,t,n){if("boolean"==typeof t?(n=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),r.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var o=this.get(e[0]);if(o){if(1===e.length){if(!t||t.indexOf(o.constructor)>-1)return o}else if(o instanceof u&&(o=o.lookup(e.slice(1),t,!0)))return o}else for(var i=0;i<this.nestedArray.length;++i)if(this._nestedArray[i]instanceof u&&(o=this._nestedArray[i].lookup(e,t,!0)))return o;return null===this.parent||n?null:this.parent.lookup(e,t)},u.prototype.lookupType=function(e){var t=this.lookup(e,[n]);if(!t)throw Error("no such type: "+e);return t},u.prototype.lookupEnum=function(t){var r=this.lookup(t,[e]);if(!r)throw Error("no such Enum '"+t+"' in "+this);return r},u.prototype.lookupTypeOrEnum=function(t){var r=this.lookup(t,[n,e]);if(!r)throw Error("no such Type or Enum '"+t+"' in "+this);return r},u.prototype.lookupService=function(e){var t=this.lookup(e,[o]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},u._configure=function(){e=require("./enum"),t=require("./field"),r=require("./util"),n=require("./type"),o=require("./service")};
},{"./object":"rb45","./enum":"IUvN","./field":"ixQC","./util":"HQWY","./type":"EOlb","./service":"irfy"}],"HlFT":[function(require,module,exports) {
"use strict";var t;function e(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)this[e[n]]=t[e[n]]}module.exports=e,e.create=function(t){return this.$type.create(t)},e.encode=function(t,e){return arguments.length?1==arguments.length?this.$type.encode(arguments[0]):this.$type.encode(arguments[0],arguments[1]):this.$type.encode(this)},e.encodeDelimited=function(t,e){return this.$type.encodeDelimited(t,e)},e.decode=function(t){return this.$type.decode(t)},e.decodeDelimited=function(t){return this.$type.decodeDelimited(t)},e.verify=function(t){return this.$type.verify(t)},e.fromObject=function(t){return this.$type.fromObject(t)},e.toObject=function(t,e){return t=t||this,this.$type.toObject(t,e)},e.prototype.toJSON=function(){return this.$type.toObject(this,t.toJSONOptions)},e.set=function(t,n){e[t]=n},e.get=function(t){return e[t]},e._configure=function(){t=require("./util")};
},{"./util":"HQWY"}],"DJ+B":[function(require,module,exports) {
module.exports=e;var t,i,s,r=require("./util");function o(t,i){return RangeError("index out of range: "+t.pos+" + "+(i||1)+" > "+t.len)}function e(t){this.buf=t,this.pos=0,this.len=t.length}var n="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new e(t);if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer)return new e(new Uint8Array(t));throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new e(t);throw Error("illegal buffer")};function h(){var i=new t(0,0),s=0;if(!(this.len-this.pos>4)){for(;s<3;++s){if(this.pos>=this.len)throw o(this);if(i.lo=(i.lo|(127&this.buf[this.pos])<<7*s)>>>0,this.buf[this.pos++]<128)return i}return i.lo=(i.lo|(127&this.buf[this.pos++])<<7*s)>>>0,i}for(;s<4;++s)if(i.lo=(i.lo|(127&this.buf[this.pos])<<7*s)>>>0,this.buf[this.pos++]<128)return i;if(i.lo=(i.lo|(127&this.buf[this.pos])<<28)>>>0,i.hi=(i.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return i;if(s=0,this.len-this.pos>4){for(;s<5;++s)if(i.hi=(i.hi|(127&this.buf[this.pos])<<7*s+3)>>>0,this.buf[this.pos++]<128)return i}else for(;s<5;++s){if(this.pos>=this.len)throw o(this);if(i.hi=(i.hi|(127&this.buf[this.pos])<<7*s+3)>>>0,this.buf[this.pos++]<128)return i}throw Error("invalid varint encoding")}function u(t,i){return(t[i-4]|t[i-3]<<8|t[i-2]<<16|t[i-1]<<24)>>>0}function f(){if(this.pos+8>this.len)throw o(this,8);return new t(u(this.buf,this.pos+=4),u(this.buf,this.pos+=4))}e.create=r.Buffer?function(t){return(e.create=function(t){return r.Buffer.isBuffer(t)?new s(t):n(t)})(t)}:n,e.prototype._slice=r.Array.prototype.subarray||r.Array.prototype.slice,e.prototype.uint32=function(){var t=4294967295;return function(){if(t=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return t;if((this.pos+=5)>this.len)throw this.pos=this.len,o(this,10);return t}}(),e.prototype.int32=function(){return 0|this.uint32()},e.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},e.prototype.bool=function(){return 0!==this.uint32()},e.prototype.fixed32=function(){if(this.pos+4>this.len)throw o(this,4);return u(this.buf,this.pos+=4)},e.prototype.sfixed32=function(){if(this.pos+4>this.len)throw o(this,4);return 0|u(this.buf,this.pos+=4)},e.prototype.float=function(){if(this.pos+4>this.len)throw o(this,4);var t=r.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},e.prototype.double=function(){if(this.pos+8>this.len)throw o(this,4);var t=r.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},e.prototype.bytes=function(){var t=this.uint32(),i=this.pos,s=this.pos+t;if(s>this.len)throw o(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(i,s):i===s?new this.buf.constructor(0):this._slice.call(this.buf,i,s)},e.prototype.string=function(){var t=this.bytes();return i.read(t,0,t.length)},e.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw o(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw o(this)}while(128&this.buf[this.pos++]);return this},e.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;;){if(4==(t=7&this.uint32()))break;this.skipType(t)}break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},e._configure=function(){t=require("./longBits"),i=require("./utf8");var s=r.Long?"toLong":"toNumber";r.merge(e.prototype,{int64:function(){return h.call(this)[s](!1)},uint64:function(){return h.call(this)[s](!0)},sint64:function(){return h.call(this).zzDecode()[s](!1)},fixed64:function(){return f.call(this)[s](!0)},sfixed64:function(){return f.call(this)[s](!1)}})};
},{"./util":"HQWY","./longBits":"n7JO","./utf8":"DDeL"}],"rxi2":[function(require,module,exports) {
"use strict";var e,r,t=n(require("@babel/runtime/helpers/typeof"));function n(e){return e&&e.__esModule?e:{default:e}}function i(e,r){return e.name+": "+r+(e.repeated&&"array"!==r?"[]":e.map&&"object"!==r?"{k:"+e.keyType+"}":"")+" expected"}function a(t,n,a,s){var f=s.types;if(t.resolvedType)if(t.resolvedType instanceof e){if(Object.keys(t.resolvedType.values).indexOf(a)<0)return i(t,"enum value")}else{var u=f[n].verify(a);if(u)return t.name+"."+u}else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":if(!r.isInteger(a))return i(t,"integer");break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":if(!(r.isInteger(a)||a&&r.isInteger(a.low)&&r.isInteger(a.high)))return i(t,"integer|Long");break;case"float":case"double":if("number"!=typeof a)return i(t,"number");break;case"bool":if("boolean"!=typeof a)return i(t,"boolean");break;case"string":if(!r.isString(a))return i(t,"string");break;case"bytes":if(!(a&&"number"==typeof a.length||r.isString(a)))return i(t,"buffer")}}function s(e,t){switch(e.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":if(!r.key32Re.test(t))return i(e,"integer key");break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":if(!r.key64Re.test(t))return i(e,"integer|Long key");break;case"bool":if(!r.key2Re.test(t))return i(e,"boolean key")}}function f(e){return function(n){return function(f){var u;if("object"!==(0,t.default)(f)||null===f)return"object expected";var c,o={};e.oneofsArray.length&&(c={});for(var l=0;l<e.fieldsArray.length;++l){var y,b=e._fieldsArray[l].resolve(),p=f[b.name];if(!b.optional||null!=p&&f.hasOwnProperty(b.name))if(b.map){if(!r.isObject(p))return i(b,"object");var d=Object.keys(p);for(y=0;y<d.length;++y){if(u=s(b,d[y]))return u;if(u=a(b,l,p[d[y]],n))return u}}else if(b.repeated){if(!Array.isArray(p))return i(b,"array");for(y=0;y<p.length;++y)if(u=a(b,l,p[y],n))return u}else{if(b.partOf){var g=b.partOf.name;if(1===o[b.partOf.name]&&1===c[g])return b.partOf.name+": multiple values";c[g]=1}if(u=a(b,l,p,n))return u}}}}}module.exports=f,f._configure=function(){e=require("./enum"),r=require("./util")};
},{"@babel/runtime/helpers/typeof":"LNzP","./enum":"IUvN","./util":"HQWY"}],"o/lx":[function(require,module,exports) {
var e,i;function n(n){return function(r){var t=r.Writer,o=r.types,l=r.util;return function(r,d){d=d||t.create();for(var u=n.fieldsArray.slice().sort(l.compareFieldsById),a=0;a<u.length;a++){var p=u[a],f=n._fieldsArray.indexOf(p),s=p.resolvedType instanceof e?"uint32":p.type,y=i.basic[s],c=r[p.name];if(p.resolvedType instanceof e&&"string"==typeof c&&(c=o[f].values[c]),p.map){if(null!=c&&r.hasOwnProperty(p.name))for(var m=Object.keys(c),v=0;v<m.length;++v)d.uint32((p.id<<3|2)>>>0).fork().uint32(8|i.mapKey[p.keyType])[p.keyType](m[v]),void 0===y?o[f].encode(c[m[v]],d.uint32(18).fork()).ldelim().ldelim():d.uint32(16|y)[s](c[m[v]]).ldelim()}else if(p.repeated){if(c&&c.length)if(p.packed&&void 0!==i.packed[s]){d.uint32((p.id<<3|2)>>>0).fork();for(var k=0;k<c.length;k++)d[s](c[k]);d.ldelim()}else for(var g=0;g<c.length;g++)void 0===y?p.resolvedType.group?o[f].encode(c[g],d.uint32((p.id<<3|3)>>>0)).uint32((p.id<<3|4)>>>0):o[f].encode(c[g],d.uint32((p.id<<3|2)>>>0).fork()).ldelim():d.uint32((p.id<<3|y)>>>0)[s](c[g])}else(!p.optional||null!=c&&r.hasOwnProperty(p.name))&&(p.optional||null!=c&&r.hasOwnProperty(p.name)||console.warn("注意啦!!!很大概率会报错 类型:",r.$type?r.$type.name:"不晓得","没有设置对应的属性:",p.name,"检查是不是proto文件属性设置为了required"),void 0===y?p.resolvedType.group?o[f].encode(c,d.uint32((p.id<<3|3)>>>0)).uint32((p.id<<3|4)>>>0):o[f].encode(c,d.uint32((p.id<<3|2)>>>0).fork()).ldelim():d.uint32((p.id<<3|y)>>>0)[s](c))}return d}}}module.exports=n,n._configure=function(){e=require("./enum"),i=require("./types")};
},{"./enum":"IUvN","./types":"K1j0"}],"vfqs":[function(require,module,exports) {
"use strict";var e,r,o,n=t(require("@babel/runtime/helpers/typeof"));function t(e){return e&&e.__esModule?e:{default:e}}function i(e){return"missing required '"+e.name+"'"}function u(t){return function(u){var s=u.Reader,l=u.types,a=u.util;return function(u,p){u instanceof s||(u=s.create(u));for(var d,c=void 0===p?u.len:u.pos+p,f=new this.ctor;u.pos<c;){var y=u.uint32();if(t.group&&4==(7&y))break;for(var h=y>>>3,v=0,g=!1;v<t.fieldsArray.length;++v){var b=t._fieldsArray[v].resolve(),m=b.name,T=b.resolvedType instanceof e?"int32":b.type;if(h==b.id){if(g=!0,b.map)u.skip().pos++,f[m]===a.emptyObject&&(f[m]={}),d=u[b.keyType](),u.pos++,null!=r.long[b.keyType]?null==r.basic[T]?f[m]["object"===(0,n.default)(d)?a.longToHash(d):d]=l[v].decode(u,u.uint32()):f[m]["object"===(0,n.default)(d)?a.longToHash(d):d]=u[T]():null==r.basic[T]?f[m]=l[v].decode(u,u.uint32()):f[m]=u[T]();else if(b.repeated)if(f[m]&&f[m].length||(f[m]=[]),null!=r.packed[T]&&2==(7&y))for(var k=u.uint32()+u.pos;u.pos<k;)f[m].push(u[T]());else null==r.basic[T]?b.resolvedType.group?f[m].push(l[v].decode(u)):f[m].push(l[v].decode(u,u.uint32())):f[m].push(u[T]());else null==r.basic[T]?b.resolvedType.group?f[m]=l[v].decode(u):f[m]=l[v].decode(u,u.uint32()):f[m]=u[T]();break}}g||(console.log("t",y),u.skipType(7&y))}for(v=0;v<t._fieldsArray.length;++v){var q=t._fieldsArray[v];if(q.required&&!f.hasOwnProperty(q.name))throw o.ProtocolError(i(q),{instance:f})}return f}}}module.exports=u,u._configure=function(){e=require("./enum"),r=require("./types"),o=require("./util")};
},{"@babel/runtime/helpers/typeof":"LNzP","./enum":"IUvN","./types":"K1j0","./util":"HQWY"}],"Sw+e":[function(require,module,exports) {
var t,e=exports;e[".google.protobuf.Any"]={fromObject:function(t){if(t&&t["@type"]){var e=this.lookup(t["@type"]);if(e){var r="."===t["@type"].charAt(0)?t["@type"].substr(1):t["@type"];return this.create({type_url:"/"+r,value:e.encode(e.fromObject(t)).finish()})}}return this.fromObject(t)},toObject:function(e,r){if(r&&r.json&&e.type_url&&e.value){var o=e.type_url.substring(e.type_url.lastIndexOf("/")+1),u=this.lookup(o);u&&(e=u.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof t){var n=e.$type.toObject(e,r);return n["@type"]=e.$type.fullName,n}return this.toObject(e,r)}},e._configure=function(){t=require("./message")};
},{"./message":"HlFT"}],"ET28":[function(require,module,exports) {
"use strict";var e=t(require("@babel/runtime/helpers/typeof"));function t(e){return e&&e.__esModule?e:{default:e}}var r,n,o=module.exports;function s(t,o,s,a){var i=a.m,l=a.d,f=a.types,u=a.ksi,g=void 0!==u;if(t.resolvedType)if(t.resolvedType instanceof r){for(var c=g?l[s][u]:l[s],p=t.resolvedType.values,y=Object.keys(p),d=0;d<y.length;d++)if(!(t.repeated&&p[y[d]]===t.typeDefault||y[d]!=c&&p[y[d]]!=c)){g?i[s][u]=p[y[d]]:i[s]=p[y[d]];break}}else{if("object"!==(0,e.default)(g?l[s][u]:l[s]))throw TypeError(t.fullName+": object expected");g?i[s][u]=f[o].fromObject(l[s][u]):i[s]=f[o].fromObject(l[s])}else{var b=!1;switch(t.type){case"double":case"float":g?i[s][u]=Number(l[s][u]):i[s]=Number(l[s]);break;case"uint32":case"fixed32":g?i[s][u]=l[s][u]>>>0:i[s]=l[s]>>>0;break;case"int32":case"sint32":case"sfixed32":g?i[s][u]=0|l[s][u]:i[s]=0|l[s];break;case"uint64":b=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":n.Long?g?i[s][u]=n.Long.fromValue(l[s][u]).unsigned=b:i[s]=n.Long.fromValue(l[s]).unsigned=b:"string"==typeof(g?l[s][u]:l[s])?g?i[s][u]=parseInt(l[s][u],10):i[s]=parseInt(l[s],10):"number"==typeof(g?l[s][u]:l[s])?g?i[s][u]=l[s][u]:i[s]=l[s]:"object"===(0,e.default)(g?l[s][u]:l[s])&&(g?i[s][u]=new n.LongBits(l[s][u].low>>>0,l[s][u].high>>>0).toNumber(b):i[s]=new n.LongBits(l[s].low>>>0,l[s].high>>>0).toNumber(b));break;case"bytes":"string"==typeof(g?l[s][u]:l[s])?g?n.base64.decode(l[s][u],i[s][u]=n.newBuffer(n.base64.length(l[s][u])),0):n.base64.decode(l[s],i[s]=n.newBuffer(n.base64.length(l[s])),0):(g?l[s][u]:l[s]).length&&(g?i[s][u]=l[s][u]:i[s]=l[s]);break;case"string":g?i[s][u]=String(l[s][u]):i[s]=String(l[s]);break;case"bool":g?i[s][u]=Boolean(l[s][u]):i[s]=Boolean(l[s])}}}function a(e,t,o,s){var a=s.m,i=s.d,l=s.types,f=s.ksi,u=s.o,g=void 0!==f;if(e.resolvedType)e.resolvedType instanceof r?g?i[o][f]=u.enums===String?l[t].values[a[o][f]]:a[o][f]:i[o]=u.enums===String?l[t].values[a[o]]:a[o]:g?i[o][f]=l[t].toObject(a[o][f],u):i[o]=l[t].toObject(a[o],u);else{var c=!1;switch(e.type){case"double":case"float":g?i[o][f]=u.json&&!isFinite(a[o][f])?String(a[o][f]):a[o][f]:i[o]=u.json&&!isFinite(a[o])?String(a[o]):a[o];break;case"uint64":c=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":"number"==typeof a[o][f]?g?i[o][f]=u.longs===String?String(a[o][f]):a[o][f]:i[o]=u.longs===String?String(a[o]):a[o]:g?i[o][f]=u.longs===String?n.Long.prototype.toString.call(a[o][f]):u.longs===Number?new n.LongBits(a[o][f].low>>>0,a[o][f].high>>>0).toNumber(c):a[o][f]:i[o]=u.longs===String?n.Long.prototype.toString.call(a[o]):u.longs===Number?new n.LongBits(a[o].low>>>0,a[o].high>>>0).toNumber(c):a[o];break;case"bytes":g?i[o][f]=u.bytes===String?n.base64.encode(a[o][f],0,a[o][f].length):u.bytes===Array?Array.prototype.slice.call(a[o][f]):a[o][f]:i[o]=u.bytes===String?n.base64.encode(a[o],0,a[o].length):u.bytes===Array?Array.prototype.slice.call(a[o]):a[o];break;default:g?i[o][f]=a[o][f]:i[o]=a[o]}}}o._configure=function(){r=require("./enum"),n=require("./util")},o.fromObject=function(t){var o=t.fieldsArray;return function(t){return function(a){if(a instanceof this.ctor)return a;if(!o.length)return new this.ctor;for(var i=new this.ctor,l=0;l<o.length;++l){var f,u=o[l].resolve(),g=u.name;if(u.map){if(a[g]){if("object"!==(0,e.default)(a[g]))throw TypeError(u.fullName+": object expected");i[g]={}}var c=Object.keys(a[g]);for(f=0;f<c.length;++f)s(u,l,g,n.merge(n.copy(t),{m:i,d:a,ksi:c[f]}))}else if(u.repeated){if(a[g]){if(!Array.isArray(a[g]))throw TypeError(u.fullName+": array expected");for(i[g]=[],f=0;f<a[g].length;++f)s(u,l,g,n.merge(n.copy(t),{m:i,d:a,ksi:f}))}}else(u.resolvedType instanceof r||null!=a[g])&&s(u,l,g,n.merge(n.copy(t),{m:i,d:a}))}return i}}},o.toObject=function(e){var t=e.fieldsArray.slice().sort(n.compareFieldsById);return function(o){return t.length?function(s,i){i=i||{};for(var l,f,u={},g=[],c=[],p=[],y=0;y<t.length;++y)t[y].partOf||(t[y].resolve().repeated?g:t[y].map?c:p).push(t[y]);if(g.length&&(i.arrays||i.defaults))for(y=0;y<g.length;++y)u[g[y].name]=[];if(c.length&&(i.objects||i.defaults))for(y=0;y<c.length;++y)u[c[y].name]={};if(p.length&&i.defaults)for(y=0;y<p.length;++y)if(f=(l=p[y]).name,l.resolvedType instanceof r)u[f]=i.enums=String?l.resolvedType.valuesById[l.typeDefault]:l.typeDefault;else if(l.long)if(n.Long){var d=new n.Long(l.typeDefault.low,l.typeDefault.high,l.typeDefault.unsigned);u[f]=i.longs===String?d.toString():i.longs===Number?d.toNumber():d}else u[f]=i.longs===String?l.typeDefault.toString():l.typeDefault.toNumber();else l.bytes?u[f]=i.bytes===String?String.fromCharCode.apply(String,l.typeDefault):Array.prototype.slice.call(l.typeDefault).join("*..*").split("*..*"):u[f]=l.typeDefault;var b=!1;for(y=0;y<t.length;++y){f=(l=t[y]).name;var m,h,v=e._fieldsArray.indexOf(l);if(l.map){if(b||(b=!0),s[f]&&(m=Object.keys(s[f]).length))for(u[f]={},h=0;h<m.length;++h)a(l,v,f,n.merge(n.copy(o),{m:s,d:u,ksi:m[h],o:i}))}else if(l.repeated){if(s[f]&&s[f].length)for(u[f]=[],h=0;h<s[f].length;++h)a(l,v,f,n.merge(n.copy(o),{m:s,d:u,ksi:h,o:i}))}else null!=s[f]&&s.hasOwnProperty(f)&&a(l,v,f,n.merge(n.copy(o),{m:s,d:u,o:i})),l.partOf&&i.oneofs&&(u[l.partOf.name]=f)}return u}:function(){return{}}}};
},{"@babel/runtime/helpers/typeof":"LNzP","./enum":"IUvN","./util":"HQWY"}],"EOlb":[function(require,module,exports) {
module.exports=y;var e,t,r,i,o,s,n,d,f,h,l,u,a,c,p=require("./namespace");function y(e,t){p.call(this,e,t),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function v(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}((y.prototype=Object.create(p.prototype)).constructor=y).className="Type",Object.defineProperties(y.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var r=this.fields[e[t]],i=r.id;if(this._fieldsById[i])throw Error("duplicate id "+i+" in "+this);this._fieldsById[i]=r}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=n.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=n.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=y.generateConstructor(this))},set:function(e){var t=e.prototype;t instanceof r||((e.prototype=new r).constructor=e,n.merge(e.prototype,t)),e.$type=e.prototype.$type=this,n.merge(e,r,!0),n.merge(e.prototype,r,!0),this._ctor=e;for(var i=0;i<this.fieldsArray.length;++i)this._fieldsArray[i].resolve();var o={};for(i=0;i<this.oneofsArray.length;++i){var s=this._oneofsArray[i].resolve().name,d=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=0;return{setter:function(r){if(!(e.indexOf(r)<0)){t[r]=1;for(var i=0;i<e.length;++i)e[i]!==r&&delete this[e[i]]}},getter:function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}}}(this._oneofsArray[i].oneof);o[s]={get:d.getter,set:d.setter}}i&&Object.defineProperties(e.prototype,o)}}}),y.generateConstructor=function(e){return function(t){for(var r,i=0;i<e.fieldsArray.length;i++)(r=e._fieldsArray[i]).map?this[r.name]={}:r.repeated&&(this[r.name]=[]);if(t)for(var o=Object.keys(t),s=0;s<o.length;++s)null!=t[o[s]]&&(this[o[s]]=t[o[s]])}},y.fromJSON=function(r,o){var s=new y(r,o.options);s.extensions=o.extensions,s.reserved=o.reserved;for(var n=Object.keys(o.fields),d=0;d<n.length;++d)s.add((void 0!==o.fields[n[d]].keyType?c.fromJSON:t.fromJSON)(n[d],o.fields[n[d]]));if(o.oneofs)for(n=Object.keys(o.oneofs),d=0;d<n.length;++d)s.add(i.fromJSON(n[d],o.oneofs[n[d]]));if(o.nested)for(n=Object.keys(o.nested),d=0;d<n.length;++d){var f=o.nested[n[d]];s.add((void 0!==f.id?t.fromJSON:void 0!==f.fields?y.fromJSON:void 0!==f.values?e.fromJSON:void 0!==f.methods?l.fromJSON:p.fromJSON)(n[d],f))}return o.extensions&&o.extensions.length&&(s.extensions=o.extensions),o.reserved&&o.reserved.length&&(s.reserved=o.reserved),o.group&&(s.group=!0),o.comment&&(s.comment=o.comment),s},y.prototype.toJSON=function(e){var t=p.prototype.toJSON.call(this,e),r=!!e&&Boolean(e.keepComments);return{options:t&&t.options||void 0,oneofs:p.arrayToJSON(this.oneofsArray,e),fields:p.arrayToJSON(this.fieldsArray.filter(function(e){return!e.declaringField}),e)||{},extensions:this.extensions&&this.extensions.length?this.extensions:void 0,reserved:this.reserved&&this.reserved.length?this.reserved:void 0,group:this.group||void 0,nested:t&&t.nested||void 0,comment:r?this.comment:void 0}},y.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var r=this.oneofsArray;for(t=0;t<r.length;)r[t++].resolve();return p.prototype.resolveAll.call(this)},y.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},y.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof t&&void 0===e.extend){if(this._fieldsById&&this._fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),v(this)}return e instanceof i?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),v(this)):p.prototype.add.call(this,e)},y.prototype.remove=function(e){if(e instanceof t&&void 0===e.extend){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),v(this)}if(e instanceof i){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),v(this)}return p.prototype.remove.call(this,e)},y.prototype.isReservedId=function(e){return p.isReservedId(this.reserved,e)},y.prototype.isReservedName=function(e){return p.isReservedName(this.reserved,e)},y.prototype.create=function(e){return new this.ctor(e)},y.prototype.setup=function(){for(var e=this.fullName,t=[],r=0;r<this.fieldsArray.length;++r)t.push(this._fieldsArray[r].resolve().resolvedType);this.encode=f(this)({Writer:o,types:t,util:n}),this.decode=h(this)({Reader:s,types:t,util:n}),this.verify=d(this)({types:t,util:n}),this.fromObject=a.fromObject(this)({types:t,util:n}),this.toObject=a.toObject(this)({types:t,util:n});var i=u[e];if(i){var l=Object.create(this);l.fromObject=this.fromObject,this.fromObject=i.fromObject.bind(l),l.toObject=this.toObject,this.toObject=i.toObject.bind(l)}return this},y.prototype.encode=function(e,t){return this.setup().encode(e,t)},y.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},y.prototype.decode=function(e,t){return this.setup().decode(e,t)},y.prototype.decodeDelimited=function(e){return e instanceof s||(e=s.create(e)),this.decode(e,e.uint32())},y.prototype.verify=function(e){return this.setup().verify(e)},y.prototype.fromObject=function(e){return this.setup().fromObject(e)},y.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},y.d=function(e){return function(t){n.decorateType(t,e)}},y._configure=function(){e=require("./enum"),t=require("./field"),r=require("./message"),i=require("./oneof"),o=require("./writer"),s=require("./reader"),n=require("./util"),d=require("./verifier"),f=require("./encoder"),h=require("./decoder"),l=require("./service"),u=require("./wrappers"),a=require("./converter"),c=require("./mapField")};
},{"./namespace":"C9/l","./enum":"IUvN","./field":"ixQC","./message":"HlFT","./oneof":"ZsNy","./writer":"4o0f","./reader":"DJ+B","./util":"HQWY","./verifier":"rxi2","./encoder":"o/lx","./decoder":"vfqs","./service":"irfy","./wrappers":"Sw+e","./converter":"ET28","./mapField":"J/IO"}],"HQWY":[function(require,module,exports) {
"use strict";var e=t(require("@babel/runtime/helpers/typeof"));function t(e){return e&&e.__esModule?e:{default:e}}var r=module.exports,n=require("./roots");r.LongBits=require("./longBits"),r.Long=require("./long"),r.pool=require("./pool"),r.float=require("./float"),r.asPromise=require("./asPromise"),r.EventEmitter=require("./EventEmitter"),r.path=require("./path"),r.base64=require("./base64"),r.utf8=require("./utf8"),r.compareFieldsById=function(e,t){return e.id-t.id},r.toArray=function(e){if(e){for(var t=Object.keys(e),r=new Array(t.length),n=0;n<t.length;)r[n]=e[t[n++]];return r}return[]},r.toObject=function(e){for(var t={},r=0;r<e.length;){var n=e[r++],o=e[r++];void 0!==o&&(t[n]=o)}return t},r.isString=function(e){return"string"==typeof e||e instanceof String};var o=/\\/g,i=/"/g;function u(t){if("object"!=(0,e.default)(t))return t;var r={};for(var n in t)r[n]=u(t[n]);return r}r.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},r.isObject=function(t){return t&&"object"===(0,e.default)(t)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},r.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},r.merge=function(e,t,r){for(var n=Object.keys(t),o=0;o<n.length;++o)void 0!==e[n[o]]&&r||(e[n[o]]=t[n[o]]);return e},r.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(r.decorateRoot.remove(e.$type),e.$type.name=t,r.decorateRoot.add(e.$type)),e.$type;Type||(Type=require("./type"));var n=new Type(t||e.name);return r.decorateRoot.add(n),n.ctor=e,Object.defineProperty(e,"$type",{value:n,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:n,enumerable:!1}),n},r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.copy=function(t){if("object"!=(0,e.default)(t))return t;var r={};for(var n in t)r[n]=t[n];return r},r.deepCopy=u,r.ProtocolError=function(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&merge(this,r)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r.Buffer=null,r.newBuffer=function(e){return"number"==typeof e?new r.Array(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},r.stringToBytes=function(e){var t,r,n=[];t=e.length;for(var o=0;o<t;o++)(r=e.charCodeAt(o))>=65536&&r<=1114111?(n.push(r>>18&7|240),n.push(r>>12&63|128),n.push(r>>6&63|128),n.push(63&r|128)):r>=2048&&r<=65535?(n.push(r>>12&15|224),n.push(r>>6&63|128),n.push(63&r|128)):r>=128&&r<=2047?(n.push(r>>6&31|192),n.push(63&r|128)):n.push(255&r);return n},r.byteToString=function(e){if("string"==typeof e)return e;for(var t="",r=e,n=0;n<r.length;n++){var o=r[n].toString(2),i=o.match(/^1+?(?=0)/);if(i&&8==o.length){for(var u=i[0].length,a=r[n].toString(2).slice(7-u),f=1;f<u;f++)a+=r[f+n].toString(2).slice(2);t+=String.fromCharCode(parseInt(a,2)),n+=u-1}else t+=String.fromCharCode(r[n])}return t},r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},Object.defineProperty(r,"decorateRoot",{get:function(){return n.decorated||(n.decorated=new(require("./root")))}});
},{"@babel/runtime/helpers/typeof":"LNzP","./roots":"Inpi","./longBits":"n7JO","./long":"YA3p","./pool":"8kOt","./float":"Hofe","./asPromise":"Gmhw","./EventEmitter":"fTab","./path":"9xCK","./base64":"lxH0","./utf8":"DDeL","./type":"EOlb","./root":"W2Lj"}],"4o0f":[function(require,module,exports) {
module.exports=u;var t,i,e,n=require("./util"),o=require("./utf8");function r(t,i,e){this.fn=t,this.len=i,this.next=void 0,this.val=e}function s(){}function h(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function u(){this.len=0,this.head=new r(s,0,0),this.tail=this.head,this.states=null}function l(t,i,e){i[e]=255&t}function p(t,i,e){for(;t>127;)i[e++]=127&t|128,t>>>=7;i[e]=t}function a(t,i){this.len=t,this.next=void 0,this.val=i}function f(t,i,e){for(;t.hi;)i[e++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)i[e++]=127&t.lo|128,t.lo=t.lo>>>7;i[e++]=t.lo}function c(t,i,e){i[e]=255&t,i[e+1]=t>>>8&255,i[e+2]=t>>>16&255,i[e+3]=t>>>24}u.create=n.Buffer?function(){return(u.create=function(){return new i})()}:function(){return new u},u.alloc=function(t){return new n.Array(t)},n.Array!==Array&&(u.alloc=n.pool(u.alloc,n.Array.prototype.subarray)),u.prototype._push=function(t,i,e){return this.tail=this.tail.next=new r(t,i,e),this.len+=i,this},a.prototype=Object.create(r.prototype),a.prototype.fn=p,u.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new a((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},u.prototype.int32=function(i){return i<0?this._push(f,10,t.fromNumber(i)):this.uint32(i)},u.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},u.prototype.uint64=function(i){var e=t.from(i);return this._push(f,e.length(),e)},u.prototype.int64=u.prototype.uint64,u.prototype.sint64=function(i){var e=t.from(i).zzEncode();return this._push(f,e.length(),e)},u.prototype.bool=function(t){return this._push(l,1,t?1:0)},u.prototype.fixed32=function(t){return this._push(c,4,t>>>0)},u.prototype.sfixed32=u.prototype.fixed32,u.prototype.fixed64=function(i){var e=t.from(i);return this._push(c,4,e.lo)._push(c,4,e.hi)},u.prototype.sfixed64=u.prototype.fixed64,u.prototype.float=function(t){return this._push(n.float.writeFloatLE,4,t)},u.prototype.double=function(t){return this._push(n.float.writeDoubleLE,8,t)};var y=n.Array.prototype.set?function(t,i,e){i.set(t,e)}:function(t,i,e){for(var n=0;n<t.length;++n)i[e+n]=t[n]};u.prototype.bytes=function(t){var i=t.length>>>0;if(!i)return this._push(l,1,0);if(n.isString(t)){var e=u.alloc(i=o.length(t));o.write(t,e,0),t=e}return this.uint32(i)._push(y,i,t)},u.prototype.string=function(t){var i=o.length(t);return i?this.uint32(i)._push(o.write,i,t):this._push(l,1,0)},u.prototype.fork=function(){return this.states=new h(this),this.head=this.tail=new r(s,0,0),this.len=0,this},u.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new r(s,0,0),this.len=0),this},u.prototype.ldelim=function(){var t=this.head,i=this.tail,e=this.len;return this.reset().uint32(e),e&&(this.tail.next=t.next,this.tail=i,this.len+=e),this},u.prototype.finish=function(){for(var t=this.head.next,i=this.constructor.alloc(this.len),e=0;t;)t.fn(t.val,i,e),e+=t.len,t=t.next;return i},u._configure=function(){t=require("./longBits"),e=require("./base64"),o=require("./utf8")};
},{"./util":"HQWY","./utf8":"DDeL","./longBits":"n7JO","./base64":"lxH0"}],"z2Zv":[function(require,module,exports) {
module.exports=function(){var e={};function r(){e.converter._configure(),e.decoder._configure(),e.encoder._configure(),e.Field._configure(),e.MapField._configure(),e.Message._configure(),e.Namespace._configure(),e.Method._configure(),e.ReflectionObject._configure(),e.OneOf._configure(),e.parse._configure(),e.Reader._configure(),e.Root._configure(),e.Service._configure(),e.verifier._configure(),e.Type._configure(),e.types._configure(),e.wrappers._configure(),e.Writer._configure()}if(e.build="minimal",e.Writer=require("./src/writer"),e.encoder=require("./src/encoder"),e.Reader=require("./src/reader"),e.util=require("./src/util"),e.rpc=require("./src/rpc/service"),e.roots=require("./src/roots"),e.verifier=require("./src/verifier"),e.tokenize=require("./src/tokenize"),e.parse=require("./src/parse"),e.common=require("./src/common"),e.ReflectionObject=require("./src/object"),e.Namespace=require("./src/namespace"),e.Root=require("./src/root"),e.Enum=require("./src/enum"),e.Type=require("./src/type"),e.Field=require("./src/field"),e.OneOf=require("./src/oneof"),e.MapField=require("./src/mapField"),e.Service=require("./src/service"),e.Method=require("./src/method"),e.converter=require("./src/converter"),e.decoder=require("./src/decoder"),e.Message=require("./src/message"),e.wrappers=require("./src/wrappers"),e.types=require("./src/types"),e.util=require("./src/util"),e.configure=r,e.load=function(r,i,o){return"function"==typeof i?(o=i,i=new e.Root):i||(i=new e.Root),i.load(r,o)},e.loadSync=function(r,i){return i||(i=new e.Root),i.loadSync(r)},e.parseFromPbString=function(r,i,o){return"function"==typeof i?(o=i,i=new e.Root):i||(i=new e.Root),i.parseFromPbString(r,o)},r(),arguments&&arguments.length)for(var i=0;i<arguments.length;i++){var o=arguments[i];if(o.hasOwnProperty("exports"))return void(o.exports=e)}return e}();
},{"./src/writer":"4o0f","./src/encoder":"o/lx","./src/reader":"DJ+B","./src/util":"HQWY","./src/rpc/service":"3MUg","./src/roots":"Inpi","./src/verifier":"rxi2","./src/tokenize":"5oGY","./src/parse":"zAwM","./src/common":"RclE","./src/object":"rb45","./src/namespace":"C9/l","./src/root":"W2Lj","./src/enum":"IUvN","./src/type":"EOlb","./src/field":"ixQC","./src/oneof":"ZsNy","./src/mapField":"J/IO","./src/service":"irfy","./src/method":"Dw/M","./src/converter":"ET28","./src/decoder":"vfqs","./src/message":"HlFT","./src/wrappers":"Sw+e","./src/types":"K1j0"}],"j93T":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("@babel/runtime/helpers/typeof")),t=r(require("../status"));function r(e){return e&&e.__esModule?e:{default:e}}var n=(0,t.default)(),o=!1,a="undefined"!=typeof FormData,i="undefined"!=typeof Blob,l=!0,s=o.overrideMimeType||!1,d=l&&a,p=d||!1,u=l&&(i||s),c=function(){};Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,r=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=n.length;return function(a){if("object"!==(0,e.default)(a)&&("function"!=typeof a||null===a))throw new TypeError("Object.keys called on non-object");var i,l,s=[];for(i in a)t.call(a,i)&&s.push(i);if(r)for(l=0;l<o;l++)t.call(a,n[l])&&s.push(n[l]);return s}}());var f={hasFormData:a,hasBlob:i,emptyfn:c,isCanSetRequestHeader:l,hasOverrideMimeType:s,isCanUploadFileAsync:d,isCanUploadFile:p,isCanDownLoadFile:u,isSupportWss:!0,hasFlash:!1,xmlrequest:!1,stringify:function(t){if("undefined"!=typeof JSON&&JSON.stringify)return JSON.stringify(t);var r="",n=[];return function t(o){var a=!1;for(var i in"[object Array]"===Object.prototype.toString.call(o)?(n.push("]","["),a=!0):"[object Object]"===Object.prototype.toString.call(o)&&n.push("}","{"),o)"[object Null]"===Object.prototype.toString.call(o[i])?o[i]="null":"[object Undefined]"===Object.prototype.toString.call(o[i])&&(o[i]="undefined"),o[i]&&"object"===(0,e.default)(o[i])?r+=","+(a?"":'"'+i+'":'+(a?'"':""))+t(o[i]):r+=',"'+(a?"":i+'":"')+o[i]+'"';return""!=r&&(r=r.slice(1)),n.pop()+r+n.pop()}(t)},login:function(e){var t=(e=e||{}).success||c,r=e.error||c,o=(e.appKey||"").split("#");if(2!==o.length)return r({type:n.WEBIM_CONNCTION_APPKEY_NOT_ASSIGN_ERROR}),!1;var a=o[0],i=o[1],l=l||e.https,s=e.user||"",d=e.pwd||"",p=e.apiUrl,u={grant_type:"password",username:s,password:d,timestamp:+new Date};e={url:p+"/"+a+"/"+i+"/token",dataType:"json",data:f.stringify(u),success:t,error:r};return f.ajax(e)},getFileUrl:function(e){var t={url:"",filename:"",filetype:"",data:""},r="string"==typeof e?document.getElementById(e):e;if(!f.isCanUploadFileAsync||!r)return t;try{if(window.URL.createObjectURL){var n=r.files;if(n.length>0){var o=n.item(0);t.data=o,t.url=window.URL.createObjectURL(o),t.filename=o.name||""}}else{o=document.getElementById(e).value;t.url=o;var a=o.lastIndexOf("/"),i=o.lastIndexOf("\\"),l=Math.max(a,i);t.filename=l<0?o:o.substring(l+1)}var s=t.filename.lastIndexOf(".");return-1!=s&&(t.filetype=t.filename.substring(s+1).toLowerCase()),t}catch(d){throw d}},getFileSize:function(e){var t=document.getElementById(e),r=0;return t&&t.files&&t.files.length>0&&(r=t.files[0].size),r},trim:function(e){return(e="string"==typeof e?e:"").trim?e.trim():e.replace(/^\s|\s$/g,"")},parseLink:function(e){return e=e.replace(/(https?\:\/\/|www\.)([a-zA-Z0-9-]+(\.[a-zA-Z0-9]+)+)(\:[0-9]{2,4})?\/?((\.[:_0-9a-zA-Z-]+)|[:_0-9a-zA-Z-]*\/?)*\??[:_#@*&%0-9a-zA-Z-\/=]*/gm,function(e){return"<a href='"+(/^https?/gm.test(e)?e:"//"+e)+"' target='_blank'>"+e+"</a>"})},parseJSON:function(e){if(window.JSON&&window.JSON.parse)return window.JSON.parse(e+"");var t,r=null,n=f.trim(e+"");return n&&!f.trim(n.replace(/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g,function(e,n,o,a){return t&&n&&(r=0),0===r?e:(t=o||n,r+=!a-!o,"")}))?Function("return "+n)():Function("Invalid JSON: "+e)()},parseUploadResponse:function(e){return e.indexOf("callback")>-1?e.slice(9,-1):e},parseDownloadResponse:function(e){return e&&e.type&&"application/json"===e.type||0>Object.prototype.toString.call(e).indexOf("Blob")?this.url+"?token=":window.URL.createObjectURL(e)},uploadFile:function(e){(e=e||{}).onFileUploadProgress=e.onFileUploadProgress||c,e.onFileUploadComplete=e.onFileUploadComplete||c,e.onFileUploadError=e.onFileUploadError||c,e.onFileUploadCanceled=e.onFileUploadCanceled||c;var t=e.accessToken||this.context.accessToken;if(t){var r,o,a,i=e.appKey||this.context.appKey||"";if(i&&(r=(a=i.split("#"))[0],o=a[1]),r||o){var l=e.apiUrl;this.isHttpDNS&&(l=this.apiUrl);var s=e.uploadUrl||l+"/"+r+"/"+o+"/chatfiles";if(f.isCanUploadFileAsync)if((e.file.data?e.file.data.size:void 0)<=0)e.onFileUploadError({type:n.WEBIM_UPLOADFILE_ERROR,id:e.id});else{var d=f.xmlrequest();d.upload&&d.upload.addEventListener("progress",e.onFileUploadProgress,!1),d.addEventListener?(d.addEventListener("abort",e.onFileUploadCanceled,!1),d.addEventListener("load",function(t){try{var r=f.parseJSON(d.responseText);try{e.onFileUploadComplete(r)}catch(t){e.onFileUploadError({type:n.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,data:t})}}catch(t){e.onFileUploadError({type:n.WEBIM_UPLOADFILE_ERROR,data:d.responseText,id:e.id,xhr:d})}},!1),d.addEventListener("error",function(t){e.onFileUploadError({type:n.WEBIM_UPLOADFILE_ERROR,id:e.id,xhr:d})},!1)):d.onreadystatechange&&(d.onreadystatechange=function(){if(4===d.readyState)if(200===ajax.status)try{var t=f.parseJSON(d.responseText);e.onFileUploadComplete(t)}catch(r){e.onFileUploadError({type:n.WEBIM_UPLOADFILE_ERROR,data:d.responseText,id:e.id,xhr:d})}else e.onFileUploadError({type:n.WEBIM_UPLOADFILE_ERROR,data:d.responseText,id:e.id,xhr:d});else d.abort(),e.onFileUploadCanceled()}),d.open("POST",s),d.setRequestHeader("restrict-access","true"),d.setRequestHeader("Accept","*/*"),d.setRequestHeader("Authorization","Bearer "+t);var p=new FormData;p.append("file",e.file.data),window.XDomainRequest&&(d.readyState=2),d.send(p)}else f.hasFlash&&"function"==typeof e.flashUpload?e.flashUpload&&e.flashUpload(s,e):e.onFileUploadError({type:n.WEBIM_UPLOADFILE_BROWSER_ERROR,id:e.id})}else e.onFileUploadError({type:n.WEBIM_UPLOADFILE_ERROR,id:e.id})}else e.onFileUploadError({type:n.WEBIM_UPLOADFILE_NO_LOGIN,id:e.id})},download:function(e){e.onFileDownloadComplete=e.onFileDownloadComplete||c,e.onFileDownloadError=e.onFileDownloadError||c;var t=e.accessToken||this.context.accessToken,r=f.xmlrequest();if(t){if(f.isCanDownLoadFile){"addEventListener"in r?(r.addEventListener("load",function(t){e.onFileDownloadComplete(r.response,r)},!1),r.addEventListener("error",function(t){e.onFileDownloadError({type:n.WEBIM_DOWNLOADFILE_ERROR,id:e.id,xhr:r})},!1)):"onreadystatechange"in r&&(r.onreadystatechange=function(){4===r.readyState?200===ajax.status?e.onFileDownloadComplete(r.response,r):e.onFileDownloadError({type:n.WEBIM_DOWNLOADFILE_ERROR,id:e.id,xhr:r}):(r.abort(),e.onFileDownloadError({type:n.WEBIM_DOWNLOADFILE_ERROR,id:e.id,xhr:r}))});var o=e.method||"GET",a=e.responseType||"blob",i=e.mimeType||"text/plain; charset=x-user-defined";r.open(o,e.url),"undefined"!=typeof Blob?r.responseType=a:r.overrideMimeType(i);var l={"X-Requested-With":"XMLHttpRequest",Accept:"application/octet-stream","share-secret":e.secret,Authorization:"Bearer "+t},s=e.headers||{};for(var d in s)l[d]=s[d];for(var d in l)l[d]&&r.setRequestHeader(d,l[d]);window.XDomainRequest&&(r.readyState=2),r.send(null)}else e.onFileDownloadComplete()}else e.onFileDownloadError({type:n.WEBIM_DOWNLOADFILE_NO_LOGIN,id:e.id})},parseTextMessage:function(e,t){if("string"==typeof e){if("[object Object]"!==Object.prototype.toString.call(t))return{isemoji:!1,body:[{type:"txt",data:e}]};var r=e,n=[],o=r.match(/\[[^[\]]{2,3}\]/gm);if(!o||o.length<1)return{isemoji:!1,body:[{type:"txt",data:e}]};for(var a=!1,i=0;i<o.length;i++){var l=r.substring(0,r.indexOf(o[i])),s=t.map[o[i]];if(l&&n.push({type:"txt",data:l}),s){var d=t.map?t.path+s:null;d?(a=!0,n.push({type:"emoji",data:d})):n.push({type:"txt",data:o[i]});var p=r.indexOf(o[i])+o[i].length;r=r.substring(p)}else n.push({type:"txt",data:o[i]})}return r&&n.push({type:"txt",data:r}),a?{isemoji:a,body:n}:{isemoji:!1,body:[{type:"txt",data:e}]}}},ajax:function(e){var t=e.success||c,r=e.error||c,n=e.type||"POST",o=e.data||null,a="";if("get"===n.toLowerCase()&&o){for(var i in o)o.hasOwnProperty(i)&&(a+=i+"="+o[i]+"&");a=a?a.slice(0,-1):a,e.url+=(e.url.indexOf("?")>0?"&":"?")+(a?a+"&":a)+"_v="+(new Date).getTime(),o=null,a=null}wx.request({url:e.url,data:e.data,header:e.headers,method:n,success:function(e){"200"==e.statusCode?t(e.data):r(e)},complete:function(){},fail:function(e){r(e)}})},ts:function(){var e=new Date,t=e.getHours(),r=e.getMinutes(),n=e.getSeconds();return(t<10?"0"+t:t)+":"+(r<10?"0"+r:r)+":"+(n<10?"0"+n:n)+":"+e.getMilliseconds()+" "},getObjectKey:function(e,t){for(var r in e)if(e[r]==t)return r;return""},sprintf:function(){var e,t,r=arguments,n=r[0]||"";for(e=1,t=r.length;e<t;e++)n=n.replace(/%s/,r[e]);return n},reverse:function(e){var t=[];if(Array.prototype.reverse)t=e.reverse();else for(var r=0;r<e.length;r++)t.unshift(e[r]);return t},getEnv:function(){var e=!0;try{e=!window||!navigator}catch(t){e=!0}return e},checkArray:function(e,t){var r="off";if(e.forEach(function(e,n){if(e.name===t.name)return r="on",n}),"off"==r)return!1},_listenNetwork:function(e,t){}},y=f;exports.default=y;
},{"@babel/runtime/helpers/typeof":"LNzP","../status":"KLYY"}],"rhvL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("./connection")),t=n(require("long")),o=n(require("./allnode")),s=n(require("./weichatPb/protobuf")),r=n(require("./status")),a=n(require("./utils/wxUtils"));function n(e){return e&&e.__esModule?e:{default:e}}var u,c=(0,r.default)(),i=(0,o.default)(),d=e.default.connection.prototype.root=s.default.Root.fromJSON(i);e.default.connection.prototype.getParams({root:d,utils:a.default});var l=function(e,t,o){var s={data:new Uint8Array(e).buffer};if(o)return s;try{u.send(s)}catch(r){t.onError({type:c.WEBIM_CONNCTION_USER_NOT_ASSIGN_ERROR,msg:r})}},_=wx||tt||qq||swan;function p(e){return _.connectSocket({url:e.url,header:{"content-type":"application/json"},success:function(e){console.log("socket连接成功")},fail:function(e){e.errMsg.indexOf("suspend")}})}var f=function(o,s){if(o)try{if(u=p(s),e.default.connection.prototype.sock=u,u.onOpen(function(){console.log("onOpen"),s.autoReconnectInterval=0,s.times=1,s.autoReconnectNumTotal=0;var e=[],t=(new Date).valueOf(),r=d.lookup("easemob.pb.Provision"),a=r.decode(e);s.context.jid.clientResource=s.deviceId+"_"+t.toString(),a.compressType=s.compressType,a.encryptType=s.encryptType,a.osType=s.osType,a.version=s.version,a.deviceName=s.deviceId,a.resource=s.deviceId+"_"+t.toString(),a.deviceUuid=t.toString(),a.auth="$t$"+o.access_token,a=r.encode(a).finish();var n=d.lookup("easemob.pb.MSync"),u=n.decode(e);if(u.version=s.version,u.guid=s.context.jid,u.auth="$t$"+o.access_token,u.command=3,u.deviceId=s.deviceId,u.encryptType=s.encryptType,u.payload=a,u=n.encode(u).finish(),l(u),s.logOut=!1,s.offLineSendConnecting=!1,s.unSendMsgArr.length>0)for(var c in s.unSendMsgArr){var i=s.unSendMsgArr[c];s.sendMSync(i),delete s.unSendMsgArr[c]}s.onOpened()}),u.onClose(function(e){if(console.log("onClose",e),!s.logOut&&s.autoReconnectNumTotal<s.autoReconnectNumMax&&(s.autoReconnectNumTotal<=s.xmppHosts.length&&s.isHttpDNS||!s.isHttpDNS)){s.reconnect();var t={type:c.WEBIM_CONNCTION_DISCONNECTED};s.onError(t)}else if(s.logOut)s.clear(),s.onClosed();else{t={type:c.WEBIM_CONNCTION_DISCONNECTED};s.onError(t),s.onClosed()}}),u.onMessage(function(e){var o=d.lookup("easemob.pb.MSync").decode(e.data);switch(o.command){case 0:var r=d.lookup("easemob.pb.CommSyncDL");r=r.decode(o.payload);var n=new t.default(r.serverId.low,r.serverId.high,r.serverId.unsigned).toString(),u=new t.default(r.metaId.low,r.metaId.high,r.metaId.unsigned).toString();if(0!==r.metas.length)s._metapayload(r.metas,r.status,s),s._lastsession(r.nextKey,r.queue,s);else if(r.isLast){var i=a.default.checkArray(s._queues,r.queue);!1!==i&&s._queues.splice(i,1),s._queues.length>0&&(s._backqueue(s._queues[0],s),this.qTimer&&clearTimeout(this.qTimer))}else if(r.status&&0===r.status.errorCode){if(s._msgHash[u]){try{s._msgHash[u].success instanceof Function&&s._msgHash[u].success(u,n)}catch(e){s.onError({type:c.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,data:e})}delete s._msgHash[u]}s.onReceivedMessage({id:u,mid:n}),s.heartBeat(s)}else if(r.status&&15===r.status.errorCode)s.onMutedMessage({mid:n});else if(r.status&&1===r.status.errorCode){var l="";switch(r.status.reason){case"blocked":l=c.PERMISSION_DENIED;break;case"group not found":l=c.GROUP_NOT_EXIST;break;case"not in group or chatroom":l=c.GROUP_NOT_JOINED;break;case"exceed recall time limit":l=c.MESSAGE_RECALL_TIME_LIMIT;break;case"message recall disabled":l=c.SERVICE_NOT_ENABLED;break;case"not in group or chatroom white list":l=c.SERVICE_NOT_ALLOW_MESSAGING;break;default:l=c.SERVER_UNKNOWN_ERROR}s.onError({type:l,reason:r.status.reason?r.status.reason:"",data:{id:u,mid:n}})}else if(r.status&&7===r.status.errorCode&&"sensitive words"===r.status.reason)s.onError({type:c.MESSAGE_INCLUDE_ILLEGAL_CONTENT,data:{id:u,mid:n}});else{if(s._msgHash[u]){try{s._msgHash[u].fail instanceof Function&&s._msgHash[u].fail(u,n)}catch(e){s.onError({type:c.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,data:e})}delete s._msgHash[u]}s.onError({type:c.WEBIM_LOAD_MSG_ERROR,data:{errorCode:r.status&&r.status.errorCode,reason:r.status&&r.status.reason}})}break;case 1:var _=d.lookup("easemob.pb.CommUnreadDL");if(0===(_=_.decode(o.payload)).unread.length);else for(var p=0;p<_.unread.length;p++)s._backqueue(_.unread[p].queue,s);s._rebuild();break;case 2:var f=d.lookup("easemob.pb.CommNotice").decode(o.payload);if(!1!==a.default.checkArray(s._queues,f.queue))return;s._queues.push(f.queue),this.qTimer&&clearTimeout(this.qTimer),this.qTimer=setTimeout(function(){var e=f.queue;!1!==a.default.checkArray(s._queues,e)&&s._backqueue(e,s)},2e4),1==s._queues.length&&s._backqueue(f.queue,s);break;case 3:s._receiveProvision(o,s)}}),""==(o.access_token||""))return void s.onError({type:c.WEBIM_CONNCTION_OPEN_USERGRID_ERROR,data:o});s.context.accessToken=o.access_token}catch(r){}};e.default.connection.prototype._base64transform=l,e.default.connection.prototype._getSock=p,e.default.connection.prototype._login=f,e.default.version="_version";var m=e.default;exports.default=m;
},{"./connection":"h12o","long":"YA3p","./allnode":"G7Dp","./weichatPb/protobuf":"z2Zv","./status":"KLYY","./utils/wxUtils":"j93T"}],"Focm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./src/wxEntry"));function r(e){return e&&e.__esModule?e:{default:e}}var t=e.default;exports.default=t;
},{"./src/wxEntry":"rhvL"}]},{},["Focm"], "WebIM")