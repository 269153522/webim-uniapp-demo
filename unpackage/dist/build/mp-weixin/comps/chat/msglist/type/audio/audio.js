(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["comps/chat/msglist/type/audio/audio"],{"12a3":function(t,n,o){"use strict";var a=o("7cc9"),i=o.n(a);i.a},"56d8":function(t,n,o){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o("f6a9"),i=o("dd95"),e={data:function(){return{playStatus:i,curStatus:i.STOP,time:"0'",opcity:1,__comps__:{audioCtx:null},style:""}},components:{},props:{msg:{type:Object,val:{}}},obeyMuteSwitch:!1,autoplay:!0,created:function(){},beforeMount:function(){this.setData({time:this.msg.msg.length+"''",style:this.msg.style})},moved:function(){},destroyed:function(){var t=this.$data.__comps__.audioCtx=a.getCtx(this.msg.mid);this.audioPause(t),this.delEvent()},mounted:function(){var n=this,o=this.$data.__comps__.audioCtx=a.getCtx(this.msg.mid);o.autoplay=!1,o.loop=!1,this.onPlaying=function(){n.setData({curStatus:i.PLAYING}),wx.inter&&clearInterval(wx.inter),wx.inter=setInterval((function(){var t=n.opcity;n.setData({opcity:1==t?.4:1})}),500)},this.onPause=function(){parseInt(n.time,10)<1||n.setData({curStatus:i.PAUSE,opcity:1})},this.onDone=function(){n.setData({curStatus:i.STOP,opcity:1}),clearInterval(wx.inter)},this.onTimeUpdate=function(){n.setData({time:(o.currentTime>>0)+"'"})},this.onWait=function(){t.showToast({title:"下载中...",duration:1e3})},this.addEvent()},methods:{audioPlay:function(){wx.inter&&clearInterval(wx.inter);var n=this.$data.__comps__.audioCtx,o="";wx.downloadFile({url:this.msg.msg.data,header:{"X-Requested-With":"XMLHttpRequest",Accept:"audio/mp3",Authorization:"Bearer "+this.msg.msg.token},success:function(t){o=t.tempFilePath,console.log("音频本地",n),n.src=o,n.play()},fail:function(n){console.log("downloadFile failed",n),t.showToast({title:"下载失败",duration:1e3})}})},audioPause:function(t){var n=this.$data.__comps__.audioCtx=a.getCtx(this.msg.mid)||t;n&&n.pause()},addEvent:function(){var t=this.$data.__comps__.audioCtx;t.onPlay(this.onPlaying),t.onPause(this.onPause),t.onWaiting(this.onPause),t.onStop(this.onDone),t.onEnded(this.onDone),t.onError(this.onDone),t.onWaiting(this.onWait)},delEvent:function(){var t=this.$data.__comps__.audioCtx;t.offPlay(this.onPlaying),t.offPause(this.onPause),t.offWaiting(this.onPause),t.offStop(this.onDone),t.offEnded(this.onDone),t.offError(this.onDone),t.offWaiting(this.onWait)}}};n.default=e}).call(this,o("543d")["default"])},"7cc9":function(t,n,o){},9990:function(t,n,o){"use strict";var a,i=function(){var t=this,n=t.$createElement;t._self._c},e=[];o.d(n,"b",(function(){return i})),o.d(n,"c",(function(){return e})),o.d(n,"a",(function(){return a}))},bda1:function(t,n,o){"use strict";o.r(n);var a=o("9990"),i=o("d6a9");for(var e in i)"default"!==e&&function(t){o.d(n,t,(function(){return i[t]}))}(e);o("12a3");var s,u=o("f0c5"),c=Object(u["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],s);n["default"]=c.exports},d6a9:function(t,n,o){"use strict";o.r(n);var a=o("56d8"),i=o.n(a);for(var e in a)"default"!==e&&function(t){o.d(n,t,(function(){return a[t]}))}(e);n["default"]=i.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'comps/chat/msglist/type/audio/audio-create-component',
    {
        'comps/chat/msglist/type/audio/audio-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("bda1"))
        })
    },
    [['comps/chat/msglist/type/audio/audio-create-component']]
]);
