(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/groupSetting/groupSetting"],{"702c":function(e,t,r){"use strict";r.r(t);var o=r("b315"),n=r.n(o);for(var u in o)"default"!==u&&function(e){r.d(t,e,(function(){return o[e]}))}(u);t["default"]=n.a},ab21:function(e,t,r){},af86:function(e,t,r){"use strict";var o=r("ab21"),n=r.n(o);n.a},b315:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r("d98b")["default"],n=r("0fac"),u={data:function(){return{roomId:"",groupName:"",currentName:"",groupMember:[],curOwner:"",groupDec:"",addFriendName:[],isOwner:!1}},components:{},props:{},onLoad:function(e){var t=this;this.setData({roomId:JSON.parse(e.groupInfo).roomId,groupName:JSON.parse(e.groupInfo).groupName,currentName:JSON.parse(e.groupInfo).myName}),n.on("em.group.leaveGroup",(function(){var e=getCurrentPages();e[e.length-1].route===t.route&&(t.getGroupMember(),this.getGroupInfo())})),this.getGroupMember(),this.getGroupInfo()},methods:{getGroupMember:function(){var e=this,t=1,r=1e3,n={pageNum:t,pageSize:r,groupId:this.roomId,success:function(t){t&&t.data&&e.setData({groupMember:t.data})},error:function(e){}};o.conn.listGroupMember(n)},getGroupInfo:function(){var e=this,t={groupId:this.roomId,success:function(t){t&&t.data&&(e.setData({curOwner:t.data[0].owner,groupDec:t.data[0].description}),e.currentName==t.data[0].owner&&e.setData({isOwner:!0}))},error:function(){}};o.conn.getGroupInfo(t)},addFriendNameFun:function(e){var t=[];t.push(e.detail.value),this.setData({addFriendName:t})},addGroupMembers:function(){var t=this,r={users:this.addFriendName,groupId:this.roomId,success:function(){t.isExistGroup(t.addFriendName,t.groupMember)?e.showToast({title:"已在群中",duration:2e3}):e.showToast({title:"邀请已发出",duration:2e3}),t.getGroupMember()},error:function(t){e.showToast({title:t.data.error_description,icon:"none"})}};o.conn.inviteToGroup(r)},isExistGroup:function(e,t){for(var r=0;r<t.length;r++)if(e==t[r].member||e==t[r].owner)return!0;return!1},leaveGroup:function(){var t=this;o.conn.quitGroup({groupId:this.roomId,success:function(){e.showToast({title:"已退群",duration:2e3,success:function(e){setTimeout((function(){return wx.navigateBack({url:"../groups/groups?myName="+t.currentName})}),2e3)}}),n.fire("em.invite.deleteGroup")},error:function(t){e.showToast({title:t.data.error_description,icon:"none"})}})},dissolveGroup:function(){var t=this;o.conn.dissolveGroup({groupId:this.roomId,success:function(){e.showToast({title:"已解散",duration:2e3,success:function(e){setTimeout((function(){return wx.navigateBack({url:"../groups/groups?myName="+t.currentName})}),2e3)}})},error:function(t){e.showToast({title:t.data.error_description,icon:"none"})}})}}};t.default=u}).call(this,r("543d")["default"])},c488:function(e,t,r){"use strict";var o,n=function(){var e=this,t=e.$createElement;e._self._c},u=[];r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return u})),r.d(t,"a",(function(){return o}))},ed7b:function(e,t,r){"use strict";(function(e){r("93cd"),r("921b");o(r("66fd"));var t=o(r("f99f"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,r("543d")["createPage"])},f99f:function(e,t,r){"use strict";r.r(t);var o=r("c488"),n=r("702c");for(var u in n)"default"!==u&&function(e){r.d(t,e,(function(){return n[e]}))}(u);r("af86");var a,i=r("f0c5"),s=Object(i["a"])(n["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],a);t["default"]=s.exports}},[["ed7b","common/runtime","common/vendor"]]]);